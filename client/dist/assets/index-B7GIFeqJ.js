var Go=e=>{throw TypeError(e)};var rn=(e,t,r)=>t.has(e)||Go("Cannot "+r);var y=(e,t,r)=>(rn(e,t,"read from private field"),r?r.call(e):t.get(e)),$=(e,t,r)=>t.has(e)?Go("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),D=(e,t,r,n)=>(rn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Q=(e,t,r)=>(rn(e,t,"access private method"),r);var cs=(e,t,r,n)=>({set _(o){D(e,t,o,r)},get _(){return y(e,t,n)}});import{j as s,c as Ce,u as X,a as js,P as F,B as _u,b as Pt,d as ke,e as ve,f as M,R as Du,g as Qn,h as be,i as Ha,D as Yn,k as ku,S as Lu,l as Et,m as Ka,n as Ua,o as Ba,F as Ga,p as Wa,O as Qa,C as Ya,q as Fu,T as Xa,r as Ja,s as zu,t as $u,v as Vu}from"./ui-c3fTEFtC.js";import{a as es,r as c,b as qu,c as Dt}from"./vendor-CtfgnI_C.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Za,Wo=es;Za=Wo.createRoot,Wo.hydrateRoot;function Hu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,o,a,i=[],l="",d=e.split("/");for(d[0]||d.shift();o=d.shift();)r=o[0],r==="*"?(i.push(r),l+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=o.indexOf("?",1),a=o.indexOf(".",1),i.push(o.substring(1,~n?n:~a?a:o.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+o.substring(a))):l+="/"+o;return{keys:i,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ei={exports:{}},ti={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=c;function Ku(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uu=typeof Object.is=="function"?Object.is:Ku,Bu=vr.useState,Gu=vr.useEffect,Wu=vr.useLayoutEffect,Qu=vr.useDebugValue;function Yu(e,t){var r=t(),n=Bu({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return Wu(function(){o.value=r,o.getSnapshot=t,sn(o)&&a({inst:o})},[e,r,t]),Gu(function(){return sn(o)&&a({inst:o}),e(function(){sn(o)&&a({inst:o})})},[e]),Qu(r),r}function sn(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Uu(e,r)}catch{return!0}}function Xu(e,t){return t()}var Ju=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xu:Yu;ti.useSyncExternalStore=vr.useSyncExternalStore!==void 0?vr.useSyncExternalStore:Ju;ei.exports=ti;var Zu=ei.exports;const ef=qu.useInsertionEffect,tf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rf=tf?c.useLayoutEffect:c.useEffect,sf=ef||rf,ri=e=>{const t=c.useRef([e,(...r)=>t[0](...r)]).current;return sf(()=>{t[0]=e}),t[1]},nf="popstate",Xn="pushState",Jn="replaceState",of="hashchange",Qo=[nf,Xn,Jn,of],af=e=>{for(const t of Qo)addEventListener(t,e);return()=>{for(const t of Qo)removeEventListener(t,e)}},si=(e,t)=>Zu.useSyncExternalStore(af,e,t),lf=()=>location.search,cf=({ssrSearch:e=""}={})=>si(lf,()=>e),Yo=()=>location.pathname,df=({ssrPath:e}={})=>si(Yo,e?()=>e:Yo),uf=(e,{replace:t=!1,state:r=null}={})=>history[t?Jn:Xn](r,"",e),ff=(e={})=>[df(e),uf],Xo=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Xo]>"u"){for(const e of[Xn,Jn]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Xo,{value:!0})}const hf=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ni=(e="")=>e==="/"?"":e,pf=(e,t)=>e[0]==="~"?e.slice(1):ni(t)+e,mf=(e="",t)=>hf(Jo(ni(e)),Jo(t)),Jo=e=>{try{return decodeURI(e)}catch{return e}},oi={hook:ff,searchHook:cf,parser:Hu,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},ai=c.createContext(oi),ts=()=>c.useContext(ai),ii={},li=c.createContext(ii),ci=()=>c.useContext(li),Ls=e=>{const[t,r]=e.hook(e);return[mf(e.base,t),ri((n,o)=>r(pf(n,e.base),o))]},It=()=>Ls(ts()),di=(e,t,r,n)=>{const{pattern:o,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),i=o.exec(r)||[],[l,...d]=i;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,m)=>[f,d[m]])):i.groups;let h={...d};return u&&Object.assign(h,u),h})(),...n?[l]:[]]:[!1,null]},xf=({children:e,...t})=>{var h,f;const r=ts(),n=t.hook?oi:r;let o=n;const[a,i]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=c.useRef({}),d=l.current,u=d;for(let m in n){const g=m==="base"?n[m]+(t[m]||""):t[m]||n[m];d===u&&g!==u[m]&&(l.current=u={...u}),u[m]=g,g!==n[m]&&(o=u)}return c.createElement(ai.Provider,{value:o,children:e})},Zo=({children:e,component:t},r)=>t?c.createElement(t,{params:r}):typeof e=="function"?e(r):e,gf=e=>{let t=c.useRef(ii),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},ot=({path:e,nest:t,match:r,...n})=>{const o=ts(),[a]=Ls(o),[i,l,d]=r??di(o.parser,e,a,t),u=gf({...ci(),...l});if(!i)return null;const h=d?c.createElement(xf,{base:d},Zo(n,u)):Zo(n,u);return c.createElement(li.Provider,{value:u,children:h})},ds=c.forwardRef((e,t)=>{const r=ts(),[n,o]=Ls(r),{to:a="",href:i=a,onClick:l,asChild:d,children:u,className:h,replace:f,state:m,...g}=e,v=ri(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(l==null||l(p),p.defaultPrevented||(p.preventDefault(),o(i,e)))}),x=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return d&&c.isValidElement(u)?c.cloneElement(u,{onClick:v,href:x}):c.createElement("a",{...g,onClick:v,href:x,className:h!=null&&h.call?h(n===i):h,children:u,ref:t})}),ui=e=>Array.isArray(e)?e.flatMap(t=>ui(t&&t.type===c.Fragment?t.props.children:t)):[e],vf=({children:e,location:t})=>{const r=ts(),[n]=Ls(r);for(const o of ui(e)){let a=0;if(c.isValidElement(o)&&(a=di(r.parser,o.props.path,t||n,o.props.nest))[0])return c.cloneElement(o,{match:a})}return null};var jr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gt=typeof window>"u"||"Deno"in globalThis;function Fe(){}function bf(e,t){return typeof e=="function"?e(t):e}function bn(e){return typeof e=="number"&&e>=0&&e!==1/0}function fi(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tr(e,t){return typeof e=="function"?e(t):e}function Ke(e,t){return typeof e=="function"?e(t):e}function ea(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Zn(i,t.options))return!1}else if(!Hr(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function ta(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Wt(t.options.mutationKey)!==Wt(a))return!1}else if(!Hr(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Zn(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wt)(e)}function Wt(e){return JSON.stringify(e,(t,r)=>yn(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Hr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Hr(e[r],t[r])):!1}function hi(e,t){if(e===t)return e;const r=ra(e)&&ra(t);if(r||yn(e)&&yn(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let d=0;for(let u=0;u<i;u++){const h=r?u:a[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=hi(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return o===i&&d===o?e:l}return t}function Ns(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ra(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yn(e){if(!sa(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!sa(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sa(e){return Object.prototype.toString.call(e)==="[object Object]"}function yf(e){return new Promise(t=>{setTimeout(t,e)})}function wn(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?hi(e,t):t}function wf(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jf(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var eo=Symbol();function pi(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===eo?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zt,vt,or,Oa,Nf=(Oa=class extends jr{constructor(){super();$(this,zt);$(this,vt);$(this,or);D(this,or,t=>{if(!Gt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){y(this,vt)||this.setEventListener(y(this,or))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,vt))==null||t.call(this),D(this,vt,void 0))}setEventListener(t){var r;D(this,or,t),(r=y(this,vt))==null||r.call(this),D(this,vt,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){y(this,zt)!==t&&(D(this,zt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof y(this,zt)=="boolean"?y(this,zt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zt=new WeakMap,vt=new WeakMap,or=new WeakMap,Oa),to=new Nf,ar,bt,ir,_a,Cf=(_a=class extends jr{constructor(){super();$(this,ar,!0);$(this,bt);$(this,ir);D(this,ir,t=>{if(!Gt&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){y(this,bt)||this.setEventListener(y(this,ir))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,bt))==null||t.call(this),D(this,bt,void 0))}setEventListener(t){var r;D(this,ir,t),(r=y(this,bt))==null||r.call(this),D(this,bt,t(this.setOnline.bind(this)))}setOnline(t){y(this,ar)!==t&&(D(this,ar,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return y(this,ar)}},ar=new WeakMap,bt=new WeakMap,ir=new WeakMap,_a),Cs=new Cf;function jn(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function Sf(e){return Math.min(1e3*2**e,3e4)}function mi(e){return(e??"online")==="online"?Cs.isOnline():!0}var xi=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nn(e){return e instanceof xi}function gi(e){let t=!1,r=0,n=!1,o;const a=jn(),i=x=>{var p;n||(m(new xi(x)),(p=e.abort)==null||p.call(e))},l=()=>{t=!0},d=()=>{t=!1},u=()=>to.isFocused()&&(e.networkMode==="always"||Cs.isOnline())&&e.canRun(),h=()=>mi(e.networkMode)&&e.canRun(),f=x=>{var p;n||(n=!0,(p=e.onSuccess)==null||p.call(e,x),o==null||o(),a.resolve(x))},m=x=>{var p;n||(n=!0,(p=e.onError)==null||p.call(e,x),o==null||o(),a.reject(x))},g=()=>new Promise(x=>{var p;o=w=>{(n||u())&&x(w)},(p=e.onPause)==null||p.call(e)}).then(()=>{var x;o=void 0,n||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(n)return;let x;const p=r===0?e.initialPromise:void 0;try{x=p??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var E;if(n)return;const b=e.retry??(Gt?0:3),j=e.retryDelay??Sf,R=typeof j=="function"?j(r,w):j,T=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!T){m(w);return}r++,(E=e.onFail)==null||E.call(e,r,w),yf(R).then(()=>u()?void 0:g()).then(()=>{t?m(w):v()})})};return{promise:a,cancel:i,continue:()=>(o==null||o(),a),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?v():g().then(v),a)}}function Rf(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=l=>setTimeout(l,0);const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||i()}return d},batchCalls:l=>(...d)=>{a(()=>{l(...d)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var he=Rf(),$t,Da,vi=(Da=class{constructor(){$(this,$t)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bn(this.gcTime)&&D(this,$t,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gt?1/0:5*60*1e3))}clearGcTimeout(){y(this,$t)&&(clearTimeout(y(this,$t)),D(this,$t,void 0))}},$t=new WeakMap,Da),lr,cr,Le,ye,Yr,Vt,He,it,ka,Pf=(ka=class extends vi{constructor(t){super();$(this,He);$(this,lr);$(this,cr);$(this,Le);$(this,ye);$(this,Yr);$(this,Vt);D(this,Vt,!1),D(this,Yr,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Le,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,lr,Ef(this.options)),this.state=t.state??y(this,lr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,ye))==null?void 0:t.promise}setOptions(t){this.options={...y(this,Yr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Le).remove(this)}setData(t,r){const n=wn(this.state.data,t,this.options);return Q(this,He,it).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Q(this,He,it).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=y(this,ye))==null?void 0:n.promise;return(o=y(this,ye))==null||o.cancel(t),r?r.then(Fe).catch(Fe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,lr))}isActive(){return this.observers.some(t=>Ke(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!fi(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=y(this,ye))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=y(this,ye))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Le).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(y(this,ye)&&(y(this,Vt)?y(this,ye).cancel({revert:!0}):y(this,ye).cancelRetry()),this.scheduleGc()),y(this,Le).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,He,it).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(y(this,ye))return y(this,ye).continueRetry(),y(this,ye).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(D(this,Vt,!0),n.signal)})},a=()=>{const f=pi(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return o(m),D(this,Vt,!1),this.options.persister?this.options.persister(f,m,this):f(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(i),(d=this.options.behavior)==null||d.onFetch(i,this),D(this,cr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Q(this,He,it).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,g,v,x;nn(f)&&f.silent||Q(this,He,it).call(this,{type:"error",error:f}),nn(f)||((g=(m=y(this,Le).config).onError)==null||g.call(m,f,this),(x=(v=y(this,Le).config).onSettled)==null||x.call(v,this.state.data,f,this)),this.scheduleGc()};return D(this,ye,gi({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,g,v,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(p){l(p);return}(g=(m=y(this,Le).config).onSuccess)==null||g.call(m,f,this),(x=(v=y(this,Le).config).onSettled)==null||x.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Q(this,He,it).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Q(this,He,it).call(this,{type:"pause"})},onContinue:()=>{Q(this,He,it).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),y(this,ye).start()}},lr=new WeakMap,cr=new WeakMap,Le=new WeakMap,ye=new WeakMap,Yr=new WeakMap,Vt=new WeakMap,He=new WeakSet,it=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bi(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return nn(o)&&o.revert&&y(this,cr)?{...y(this,cr),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),he.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),y(this,Le).notify({query:this,type:"updated",action:t})})},ka);function bi(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mi(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ef(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var We,La,Tf=(La=class extends jr{constructor(t={}){super();$(this,We);this.config=t,D(this,We,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??Zn(o,r);let i=this.get(a);return i||(i=new Pf({cache:this,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){y(this,We).has(t.queryHash)||(y(this,We).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=y(this,We).get(t.queryHash);r&&(t.destroy(),r===t&&y(this,We).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){he.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,We).get(t)}getAll(){return[...y(this,We).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ea(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ea(t,n)):r}notify(t){he.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){he.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){he.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},We=new WeakMap,La),Qe,je,qt,Ye,xt,Fa,Af=(Fa=class extends vi{constructor(t){super();$(this,Ye);$(this,Qe);$(this,je);$(this,qt);this.mutationId=t.mutationId,D(this,je,t.mutationCache),D(this,Qe,[]),this.state=t.state||yi(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,Qe).includes(t)||(y(this,Qe).push(t),this.clearGcTimeout(),y(this,je).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,Qe,y(this,Qe).filter(r=>r!==t)),this.scheduleGc(),y(this,je).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,Qe).length||(this.state.status==="pending"?this.scheduleGc():y(this,je).remove(this))}continue(){var t;return((t=y(this,qt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,i,l,d,u,h,f,m,g,v,x,p,w,b,j,R,T,E,P;D(this,qt,gi({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,C)=>{Q(this,Ye,xt).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{Q(this,Ye,xt).call(this,{type:"pause"})},onContinue:()=>{Q(this,Ye,xt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,je).canRun(this)}));const r=this.state.status==="pending",n=!y(this,qt).canStart();try{if(!r){Q(this,Ye,xt).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(o=y(this,je).config).onMutate)==null?void 0:a.call(o,t,this));const C=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));C!==this.state.context&&Q(this,Ye,xt).call(this,{type:"pending",context:C,variables:t,isPaused:n})}const S=await y(this,qt).start();return await((u=(d=y(this,je).config).onSuccess)==null?void 0:u.call(d,S,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,S,t,this.state.context)),await((g=(m=y(this,je).config).onSettled)==null?void 0:g.call(m,S,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,S,null,t,this.state.context)),Q(this,Ye,xt).call(this,{type:"success",data:S}),S}catch(S){try{throw await((w=(p=y(this,je).config).onError)==null?void 0:w.call(p,S,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,S,t,this.state.context)),await((T=(R=y(this,je).config).onSettled)==null?void 0:T.call(R,void 0,S,this.state.variables,this.state.context,this)),await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,S,t,this.state.context)),S}finally{Q(this,Ye,xt).call(this,{type:"error",error:S})}}finally{y(this,je).runNext(this)}}},Qe=new WeakMap,je=new WeakMap,qt=new WeakMap,Ye=new WeakSet,xt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),he.batch(()=>{y(this,Qe).forEach(n=>{n.onMutationUpdate(t)}),y(this,je).notify({mutation:this,type:"updated",action:t})})},Fa);function yi(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Me,Xr,za,Mf=(za=class extends jr{constructor(t={}){super();$(this,Me);$(this,Xr);this.config=t,D(this,Me,new Map),D(this,Xr,Date.now())}build(t,r,n){const o=new Af({mutationCache:this,mutationId:++cs(this,Xr)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){const r=us(t),n=y(this,Me).get(r)??[];n.push(t),y(this,Me).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=us(t);if(y(this,Me).has(r)){const o=(n=y(this,Me).get(r))==null?void 0:n.filter(a=>a!==t);o&&(o.length===0?y(this,Me).delete(r):y(this,Me).set(r,o))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=y(this,Me).get(us(t)))==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=y(this,Me).get(us(t)))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){he.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...y(this,Me).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ta(r,n))}findAll(t={}){return this.getAll().filter(r=>ta(t,r))}notify(t){he.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return he.batch(()=>Promise.all(t.map(r=>r.continue().catch(Fe))))}},Me=new WeakMap,Xr=new WeakMap,za);function us(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function na(e){return{onFetch:(t,r)=>{var h,f,m,g,v;const n=t.options,o=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let x=!1;const p=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=pi(t.options,t.fetchOptions),b=async(j,R,T)=>{if(x)return Promise.reject();if(R==null&&j.pages.length)return Promise.resolve(j);const E={queryKey:t.queryKey,pageParam:R,direction:T?"backward":"forward",meta:t.options.meta};p(E);const P=await w(E),{maxPages:S}=t.options,C=T?jf:wf;return{pages:C(j.pages,P,S),pageParams:C(j.pageParams,R,S)}};if(o&&a.length){const j=o==="backward",R=j?If:oa,T={pages:a,pageParams:i},E=R(n,T);l=await b(T,E,j)}else{const j=e??a.length;do{const R=d===0?i[0]??n.initialPageParam:oa(n,l);if(d>0&&R==null)break;l=await b(l,R),d++}while(d<j)}return l};t.options.persister?t.fetchFn=()=>{var x,p;return(p=(x=t.options).persister)==null?void 0:p.call(x,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function oa(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function If(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var de,yt,wt,dr,ur,jt,fr,hr,$a,Of=($a=class{constructor(e={}){$(this,de);$(this,yt);$(this,wt);$(this,dr);$(this,ur);$(this,jt);$(this,fr);$(this,hr);D(this,de,e.queryCache||new Tf),D(this,yt,e.mutationCache||new Mf),D(this,wt,e.defaultOptions||{}),D(this,dr,new Map),D(this,ur,new Map),D(this,jt,0)}mount(){cs(this,jt)._++,y(this,jt)===1&&(D(this,fr,to.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,de).onFocus())})),D(this,hr,Cs.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,de).onOnline())})))}unmount(){var e,t;cs(this,jt)._--,y(this,jt)===0&&((e=y(this,fr))==null||e.call(this),D(this,fr,void 0),(t=y(this,hr))==null||t.call(this),D(this,hr,void 0))}isFetching(e){return y(this,de).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,yt).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=y(this,de).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=y(this,de).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(tr(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return y(this,de).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=y(this,de).get(n.queryHash),a=o==null?void 0:o.state.data,i=bf(t,a);if(i!==void 0)return y(this,de).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return he.batch(()=>y(this,de).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=y(this,de).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=y(this,de);he.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=y(this,de),n={type:"active",...e};return he.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=he.batch(()=>y(this,de).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Fe).catch(Fe)}invalidateQueries(e={},t={}){return he.batch(()=>{if(y(this,de).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=he.batch(()=>y(this,de).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Fe)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Fe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=y(this,de).build(this,t);return r.isStaleByTime(tr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fe).catch(Fe)}fetchInfiniteQuery(e){return e.behavior=na(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fe).catch(Fe)}ensureInfiniteQueryData(e){return e.behavior=na(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cs.isOnline()?y(this,yt).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,de)}getMutationCache(){return y(this,yt)}getDefaultOptions(){return y(this,wt)}setDefaultOptions(e){D(this,wt,e)}setQueryDefaults(e,t){y(this,dr).set(Wt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,dr).values()];let r={};return t.forEach(n=>{Hr(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){y(this,ur).set(Wt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,ur).values()];let r={};return t.forEach(n=>{Hr(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,wt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zn(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===eo&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,wt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,de).clear(),y(this,yt).clear()}},de=new WeakMap,yt=new WeakMap,wt=new WeakMap,dr=new WeakMap,ur=new WeakMap,jt=new WeakMap,fr=new WeakMap,hr=new WeakMap,$a),Pe,Y,Jr,Ne,Ht,pr,Nt,Xe,Zr,mr,xr,Kt,Ut,Ct,gr,se,Dr,Nn,Cn,Sn,Rn,Pn,En,Tn,wi,Va,_f=(Va=class extends jr{constructor(t,r){super();$(this,se);$(this,Pe);$(this,Y);$(this,Jr);$(this,Ne);$(this,Ht);$(this,pr);$(this,Nt);$(this,Xe);$(this,Zr);$(this,mr);$(this,xr);$(this,Kt);$(this,Ut);$(this,Ct);$(this,gr,new Set);this.options=r,D(this,Pe,t),D(this,Xe,null),D(this,Nt,jn()),this.options.experimental_prefetchInRender||y(this,Nt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,Y).addObserver(this),aa(y(this,Y),this.options)?Q(this,se,Dr).call(this):this.updateResult(),Q(this,se,Rn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return An(y(this,Y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return An(y(this,Y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,se,Pn).call(this),Q(this,se,En).call(this),y(this,Y).removeObserver(this)}setOptions(t,r){const n=this.options,o=y(this,Y);if(this.options=y(this,Pe).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ke(this.options.enabled,y(this,Y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Q(this,se,Tn).call(this),y(this,Y).setOptions(this.options),n._defaulted&&!Ns(this.options,n)&&y(this,Pe).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,Y),observer:this});const a=this.hasListeners();a&&ia(y(this,Y),o,this.options,n)&&Q(this,se,Dr).call(this),this.updateResult(r),a&&(y(this,Y)!==o||Ke(this.options.enabled,y(this,Y))!==Ke(n.enabled,y(this,Y))||tr(this.options.staleTime,y(this,Y))!==tr(n.staleTime,y(this,Y)))&&Q(this,se,Nn).call(this);const i=Q(this,se,Cn).call(this);a&&(y(this,Y)!==o||Ke(this.options.enabled,y(this,Y))!==Ke(n.enabled,y(this,Y))||i!==y(this,Ct))&&Q(this,se,Sn).call(this,i)}getOptimisticResult(t){const r=y(this,Pe).getQueryCache().build(y(this,Pe),t),n=this.createResult(r,t);return kf(this,n)&&(D(this,Ne,n),D(this,pr,this.options),D(this,Ht,y(this,Y).state)),n}getCurrentResult(){return y(this,Ne)}trackResult(t,r){const n={};return Object.keys(t).forEach(o=>{Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),r==null||r(o),t[o])})}),n}trackProp(t){y(this,gr).add(t)}getCurrentQuery(){return y(this,Y)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=y(this,Pe).defaultQueryOptions(t),n=y(this,Pe).getQueryCache().build(y(this,Pe),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Q(this,se,Dr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,Ne)))}createResult(t,r){var S;const n=y(this,Y),o=this.options,a=y(this,Ne),i=y(this,Ht),l=y(this,pr),u=t!==n?t.state:y(this,Jr),{state:h}=t;let f={...h},m=!1,g;if(r._optimisticResults){const C=this.hasListeners(),N=!C&&aa(t,r),_=C&&ia(t,n,r,o);(N||_)&&(f={...f,...bi(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:p}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(i==null?void 0:i.data)&&r.select===y(this,Zr))g=y(this,mr);else try{D(this,Zr,r.select),g=r.select(f.data),g=wn(a==null?void 0:a.data,g,r),D(this,mr,g),D(this,Xe,null)}catch(C){D(this,Xe,C)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&p==="pending"){let C;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=a.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((S=y(this,xr))==null?void 0:S.state.data,y(this,xr)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),D(this,Xe,null)}catch(N){D(this,Xe,N)}C!==void 0&&(p="success",g=wn(a==null?void 0:a.data,C,r),m=!0)}y(this,Xe)&&(v=y(this,Xe),g=y(this,mr),x=Date.now(),p="error");const w=f.fetchStatus==="fetching",b=p==="pending",j=p==="error",R=b&&w,T=g!==void 0,P={status:p,fetchStatus:f.fetchStatus,isPending:b,isSuccess:p==="success",isError:j,isInitialLoading:R,isLoading:R,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&T,isStale:ro(t,r),refetch:this.refetch,promise:y(this,Nt)};if(this.options.experimental_prefetchInRender){const C=A=>{P.status==="error"?A.reject(P.error):P.data!==void 0&&A.resolve(P.data)},N=()=>{const A=D(this,Nt,P.promise=jn());C(A)},_=y(this,Nt);switch(_.status){case"pending":t.queryHash===n.queryHash&&C(_);break;case"fulfilled":(P.status==="error"||P.data!==_.value)&&N();break;case"rejected":(P.status!=="error"||P.error!==_.reason)&&N();break}}return P}updateResult(t){const r=y(this,Ne),n=this.createResult(y(this,Y),this.options);if(D(this,Ht,y(this,Y).state),D(this,pr,this.options),y(this,Ht).data!==void 0&&D(this,xr,y(this,Y)),Ns(n,r))return;D(this,Ne,n);const o={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!y(this,gr).size)return!0;const d=new Set(l??y(this,gr));return this.options.throwOnError&&d.add("error"),Object.keys(y(this,Ne)).some(u=>{const h=u;return y(this,Ne)[h]!==r[h]&&d.has(h)})};(t==null?void 0:t.listeners)!==!1&&a()&&(o.listeners=!0),Q(this,se,wi).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,se,Rn).call(this)}},Pe=new WeakMap,Y=new WeakMap,Jr=new WeakMap,Ne=new WeakMap,Ht=new WeakMap,pr=new WeakMap,Nt=new WeakMap,Xe=new WeakMap,Zr=new WeakMap,mr=new WeakMap,xr=new WeakMap,Kt=new WeakMap,Ut=new WeakMap,Ct=new WeakMap,gr=new WeakMap,se=new WeakSet,Dr=function(t){Q(this,se,Tn).call(this);let r=y(this,Y).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Fe)),r},Nn=function(){Q(this,se,Pn).call(this);const t=tr(this.options.staleTime,y(this,Y));if(Gt||y(this,Ne).isStale||!bn(t))return;const n=fi(y(this,Ne).dataUpdatedAt,t)+1;D(this,Kt,setTimeout(()=>{y(this,Ne).isStale||this.updateResult()},n))},Cn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,Y)):this.options.refetchInterval)??!1},Sn=function(t){Q(this,se,En).call(this),D(this,Ct,t),!(Gt||Ke(this.options.enabled,y(this,Y))===!1||!bn(y(this,Ct))||y(this,Ct)===0)&&D(this,Ut,setInterval(()=>{(this.options.refetchIntervalInBackground||to.isFocused())&&Q(this,se,Dr).call(this)},y(this,Ct)))},Rn=function(){Q(this,se,Nn).call(this),Q(this,se,Sn).call(this,Q(this,se,Cn).call(this))},Pn=function(){y(this,Kt)&&(clearTimeout(y(this,Kt)),D(this,Kt,void 0))},En=function(){y(this,Ut)&&(clearInterval(y(this,Ut)),D(this,Ut,void 0))},Tn=function(){const t=y(this,Pe).getQueryCache().build(y(this,Pe),this.options);if(t===y(this,Y))return;const r=y(this,Y);D(this,Y,t),D(this,Jr,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},wi=function(t){he.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(y(this,Ne))}),y(this,Pe).getQueryCache().notify({query:y(this,Y),type:"observerResultsUpdated"})})},Va);function Df(e,t){return Ke(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aa(e,t){return Df(e,t)||e.state.data!==void 0&&An(e,t,t.refetchOnMount)}function An(e,t,r){if(Ke(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ro(e,t)}return!1}function ia(e,t,r,n){return(e!==t||Ke(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ro(e,r)}function ro(e,t){return Ke(t.enabled,e)!==!1&&e.isStaleByTime(tr(t.staleTime,e))}function kf(e,t){return!Ns(e.getCurrentResult(),t)}var St,Rt,Ee,ct,dt,ms,Mn,qa,Lf=(qa=class extends jr{constructor(r,n){super();$(this,dt);$(this,St);$(this,Rt);$(this,Ee);$(this,ct);D(this,St,r),this.setOptions(n),this.bindMethods(),Q(this,dt,ms).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const n=this.options;this.options=y(this,St).defaultMutationOptions(r),Ns(this.options,n)||y(this,St).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,Ee),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Wt(n.mutationKey)!==Wt(this.options.mutationKey)?this.reset():((o=y(this,Ee))==null?void 0:o.state.status)==="pending"&&y(this,Ee).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=y(this,Ee))==null||r.removeObserver(this)}onMutationUpdate(r){Q(this,dt,ms).call(this),Q(this,dt,Mn).call(this,r)}getCurrentResult(){return y(this,Rt)}reset(){var r;(r=y(this,Ee))==null||r.removeObserver(this),D(this,Ee,void 0),Q(this,dt,ms).call(this),Q(this,dt,Mn).call(this)}mutate(r,n){var o;return D(this,ct,n),(o=y(this,Ee))==null||o.removeObserver(this),D(this,Ee,y(this,St).getMutationCache().build(y(this,St),this.options)),y(this,Ee).addObserver(this),y(this,Ee).execute(r)}},St=new WeakMap,Rt=new WeakMap,Ee=new WeakMap,ct=new WeakMap,dt=new WeakSet,ms=function(){var n;const r=((n=y(this,Ee))==null?void 0:n.state)??yi();D(this,Rt,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Mn=function(r){he.batch(()=>{var n,o,a,i,l,d,u,h;if(y(this,ct)&&this.hasListeners()){const f=y(this,Rt).variables,m=y(this,Rt).context;(r==null?void 0:r.type)==="success"?((o=(n=y(this,ct)).onSuccess)==null||o.call(n,r.data,f,m),(i=(a=y(this,ct)).onSettled)==null||i.call(a,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((d=(l=y(this,ct)).onError)==null||d.call(l,r.error,f,m),(h=(u=y(this,ct)).onSettled)==null||h.call(u,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(y(this,Rt))})})},qa),ji=c.createContext(void 0),Xt=e=>{const t=c.useContext(ji);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ff=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ji.Provider,{value:e,children:t})),Ni=c.createContext(!1),zf=()=>c.useContext(Ni);Ni.Provider;function $f(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vf=c.createContext($f()),qf=()=>c.useContext(Vf);function Ci(e,t){return typeof e=="function"?e(...t):!!e}function In(){}var Hf=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Kf=e=>{c.useEffect(()=>{e.clearReset()},[e])},Uf=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&Ci(r,[e.error,n]),Bf=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Gf=(e,t)=>e.isLoading&&e.isFetching&&!t,Wf=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,la=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Qf(e,t,r){var h,f,m,g,v;const n=Xt(),o=zf(),a=qf(),i=n.defaultQueryOptions(e);(f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,i),i._optimisticResults=o?"isRestoring":"optimistic",Bf(i),Hf(i,a),Kf(a);const l=!n.getQueryCache().get(i.queryHash),[d]=c.useState(()=>new t(n,i)),u=d.getOptimisticResult(i);if(c.useSyncExternalStore(c.useCallback(x=>{const p=o?In:d.subscribe(he.batchCalls(x));return d.updateResult(),p},[d,o]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),c.useEffect(()=>{d.setOptions(i,{listeners:!1})},[i,d]),Wf(i,u))throw la(i,d,a);if(Uf({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((g=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,u),i.experimental_prefetchInRender&&!Gt&&Gf(u,o)){const x=l?la(i,d,a):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;x==null||x.catch(In).finally(()=>{d.updateResult()})}return i.notifyOnChangeProps?u:d.trackResult(u)}function fe(e,t){return Qf(e,_f)}function me(e,t){const r=Xt(),[n]=c.useState(()=>new Lf(r,e));c.useEffect(()=>{n.setOptions(e)},[n,e]);const o=c.useSyncExternalStore(c.useCallback(i=>n.subscribe(he.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=c.useCallback((i,l)=>{n.mutate(i,l).catch(In)},[n]);if(o.error&&Ci(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}async function Si(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function xe(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await Si(n),n}const Yf=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await Si(r),await r.json())},Xf=new Of({defaultOptions:{queries:{queryFn:Yf({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Jf=1,Zf=1e6;let on=0;function eh(){return on=(on+1)%Number.MAX_SAFE_INTEGER,on.toString()}const an=new Map,ca=e=>{if(an.has(e))return;const t=setTimeout(()=>{an.delete(e),zr({type:"REMOVE_TOAST",toastId:e})},Zf);an.set(e,t)},th=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Jf)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ca(r):e.toasts.forEach(n=>{ca(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},xs=[];let gs={toasts:[]};function zr(e){gs=th(gs,e),xs.forEach(t=>{t(gs)})}function rh({...e}){const t=eh(),r=o=>zr({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>zr({type:"DISMISS_TOAST",toastId:t});return zr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function Jt(){const[e,t]=c.useState(gs);return c.useEffect(()=>(xs.push(t),()=>{const r=xs.indexOf(t);r>-1&&xs.splice(r,1)}),[e]),{...e,toast:rh,dismiss:r=>zr({type:"DISMISS_TOAST",toastId:r})}}function Fs(e){const t=e+"CollectionProvider",[r,n]=Ce(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:p,children:w}=x,b=Dt.useRef(null),j=Dt.useRef(new Map).current;return s.jsx(o,{scope:p,itemMap:j,collectionRef:b,children:w})};i.displayName=t;const l=e+"CollectionSlot",d=js(l),u=Dt.forwardRef((x,p)=>{const{scope:w,children:b}=x,j=a(l,w),R=X(p,j.collectionRef);return s.jsx(d,{ref:R,children:b})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=js(h),g=Dt.forwardRef((x,p)=>{const{scope:w,children:b,...j}=x,R=Dt.useRef(null),T=X(p,R),E=a(h,w);return Dt.useEffect(()=>(E.itemMap.set(R,{ref:R,...j}),()=>void E.itemMap.delete(R))),s.jsx(m,{[f]:"",ref:T,children:b})});g.displayName=h;function v(x){const p=a(e+"CollectionConsumer",x);return Dt.useCallback(()=>{const b=p.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((E,P)=>j.indexOf(E.ref.current)-j.indexOf(P.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},v,n]}var sh="VisuallyHidden",rs=c.forwardRef((e,t)=>s.jsx(F.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));rs.displayName=sh;var nh=rs,so="ToastProvider",[no,oh,ah]=Fs("Toast"),[Ri,ab]=Ce("Toast",[ah]),[ih,zs]=Ri(so),Pi=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[l,d]=c.useState(null),[u,h]=c.useState(0),f=c.useRef(!1),m=c.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${so}\`. Expected non-empty \`string\`.`),s.jsx(no.Provider,{scope:t,children:s.jsx(ih,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:c.useCallback(()=>h(g=>g+1),[]),onToastRemove:c.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};Pi.displayName=so;var Ei="ToastViewport",lh=["F8"],On="toast.viewportPause",_n="toast.viewportResume",Ti=c.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=lh,label:o="Notifications ({hotkey})",...a}=e,i=zs(Ei,r),l=oh(r),d=c.useRef(null),u=c.useRef(null),h=c.useRef(null),f=c.useRef(null),m=X(t,f,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;c.useEffect(()=>{const p=w=>{var j;n.length!==0&&n.every(R=>w[R]||w.code===R)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),c.useEffect(()=>{const p=d.current,w=f.current;if(v&&p&&w){const b=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(On);w.dispatchEvent(E),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(_n);w.dispatchEvent(E),i.isClosePausedRef.current=!1}},R=E=>{!p.contains(E.relatedTarget)&&j()},T=()=>{p.contains(document.activeElement)||j()};return p.addEventListener("focusin",b),p.addEventListener("focusout",R),p.addEventListener("pointermove",b),p.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{p.removeEventListener("focusin",b),p.removeEventListener("focusout",R),p.removeEventListener("pointermove",b),p.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[v,i.isClosePausedRef]);const x=c.useCallback(({tabbingDirection:p})=>{const b=l().map(j=>{const R=j.ref.current,T=[R,...wh(R)];return p==="forwards"?T:T.reverse()});return(p==="forwards"?b.reverse():b).flat()},[l]);return c.useEffect(()=>{const p=f.current;if(p){const w=b=>{var T,E,P;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const S=document.activeElement,C=b.shiftKey;if(b.target===p&&C){(T=u.current)==null||T.focus();return}const A=x({tabbingDirection:C?"backwards":"forwards"}),B=A.findIndex(I=>I===S);ln(A.slice(B+1))?b.preventDefault():C?(E=u.current)==null||E.focus():(P=h.current)==null||P.focus()}};return p.addEventListener("keydown",w),()=>p.removeEventListener("keydown",w)}},[l,x]),s.jsxs(_u,{ref:d,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(Dn,{ref:u,onFocusFromOutsideViewport:()=>{const p=x({tabbingDirection:"forwards"});ln(p)}}),s.jsx(no.Slot,{scope:r,children:s.jsx(F.ol,{tabIndex:-1,...a,ref:m})}),v&&s.jsx(Dn,{ref:h,onFocusFromOutsideViewport:()=>{const p=x({tabbingDirection:"backwards"});ln(p)}})]})});Ti.displayName=Ei;var Ai="ToastFocusProxy",Dn=c.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=zs(Ai,r);return s.jsx(rs,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Dn.displayName=Ai;var $s="Toast",ch="toast.swipeStart",dh="toast.swipeMove",uh="toast.swipeCancel",fh="toast.swipeEnd",Mi=c.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...i}=e,[l=!0,d]=Pt({prop:n,defaultProp:o,onChange:a});return s.jsx(ke,{present:r||l,children:s.jsx(mh,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:ve(e.onPause),onResume:ve(e.onResume),onSwipeStart:M(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:M(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:M(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:M(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});Mi.displayName=$s;var[hh,ph]=Ri($s,{onClose(){}}),mh=c.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...v}=e,x=zs($s,r),[p,w]=c.useState(null),b=X(t,I=>w(I)),j=c.useRef(null),R=c.useRef(null),T=o||x.duration,E=c.useRef(0),P=c.useRef(T),S=c.useRef(0),{onToastAdd:C,onToastRemove:N}=x,_=ve(()=>{var K;(p==null?void 0:p.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),i()}),A=c.useCallback(I=>{!I||I===1/0||(window.clearTimeout(S.current),E.current=new Date().getTime(),S.current=window.setTimeout(_,I))},[_]);c.useEffect(()=>{const I=x.viewport;if(I){const K=()=>{A(P.current),u==null||u()},k=()=>{const W=new Date().getTime()-E.current;P.current=P.current-W,window.clearTimeout(S.current),d==null||d()};return I.addEventListener(On,k),I.addEventListener(_n,K),()=>{I.removeEventListener(On,k),I.removeEventListener(_n,K)}}},[x.viewport,T,d,u,A]),c.useEffect(()=>{a&&!x.isClosePausedRef.current&&A(T)},[a,T,x.isClosePausedRef,A]),c.useEffect(()=>(C(),()=>N()),[C,N]);const B=c.useMemo(()=>p?Fi(p):null,[p]);return x.viewport?s.jsxs(s.Fragment,{children:[B&&s.jsx(xh,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),s.jsx(hh,{scope:r,onClose:_,children:es.createPortal(s.jsx(no.ItemSlot,{scope:r,children:s.jsx(Du,{asChild:!0,onEscapeKeyDown:M(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||_(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(F.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:M(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:M(e.onPointerDown,I=>{I.button===0&&(j.current={x:I.clientX,y:I.clientY})}),onPointerMove:M(e.onPointerMove,I=>{if(!j.current)return;const K=I.clientX-j.current.x,k=I.clientY-j.current.y,W=!!R.current,L=["left","right"].includes(x.swipeDirection),O=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,J=L?O(0,K):0,Z=L?0:O(0,k),pe=I.pointerType==="touch"?10:2,Re={x:J,y:Z},we={originalEvent:I,delta:Re};W?(R.current=Re,fs(dh,f,we,{discrete:!1})):da(Re,x.swipeDirection,pe)?(R.current=Re,fs(ch,h,we,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(K)>pe||Math.abs(k)>pe)&&(j.current=null)}),onPointerUp:M(e.onPointerUp,I=>{const K=R.current,k=I.target;if(k.hasPointerCapture(I.pointerId)&&k.releasePointerCapture(I.pointerId),R.current=null,j.current=null,K){const W=I.currentTarget,L={originalEvent:I,delta:K};da(K,x.swipeDirection,x.swipeThreshold)?fs(fh,g,L,{discrete:!0}):fs(uh,m,L,{discrete:!0}),W.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),xh=e=>{const{__scopeToast:t,children:r,...n}=e,o=zs($s,t),[a,i]=c.useState(!1),[l,d]=c.useState(!1);return bh(()=>i(!0)),c.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Qn,{asChild:!0,children:s.jsx(rs,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},gh="ToastTitle",Ii=c.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(F.div,{...n,ref:t})});Ii.displayName=gh;var vh="ToastDescription",Oi=c.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(F.div,{...n,ref:t})});Oi.displayName=vh;var _i="ToastAction",Di=c.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Li,{altText:r,asChild:!0,children:s.jsx(oo,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_i}\`. Expected non-empty \`string\`.`),null)});Di.displayName=_i;var ki="ToastClose",oo=c.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=ph(ki,r);return s.jsx(Li,{asChild:!0,children:s.jsx(F.button,{type:"button",...n,ref:t,onClick:M(e.onClick,o.onClose)})})});oo.displayName=ki;var Li=c.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(F.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function Fi(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),yh(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Fi(n))}}),t}function fs(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Ha(o,a):o.dispatchEvent(a)}var da=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function bh(e=()=>{}){const t=ve(e);be(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function yh(e){return e.nodeType===e.ELEMENT_NODE}function wh(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ln(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var jh=Pi,zi=Ti,$i=Mi,Vi=Ii,qi=Oi,Hi=Di,Ki=oo;function Ui(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Ui(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bi(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Ui(e))&&(n&&(n+=" "),n+=t);return n}const ua=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fa=Bi,Vs=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return fa(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const h=r==null?void 0:r[u],f=a==null?void 0:a[u];if(h===null)return null;const m=ua(h)||ua(f);return o[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(v=>{let[x,p]=v;return Array.isArray(p)?p.includes({...a,...l}[x]):{...a,...l}[x]===p})?[...u,f,m]:u},[]);return fa(e,i,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gi=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ch={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},d)=>c.createElement("svg",{ref:d,...Ch,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Gi("lucide",o),...l},[...i.map(([u,h])=>c.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=c.forwardRef(({className:n,...o},a)=>c.createElement(Sh,{ref:a,iconNode:t,className:Gi(`lucide-${Nh(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ao="-",Ah=e=>{const t=Ih(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(ao);return l[0]===""&&l.length!==1&&l.shift(),Xi(l,t)||Mh(i)},getConflictingClassGroupIds:(i,l)=>{const d=r[i]||[];return l&&n[i]?[...d,...n[i]]:d}}},Xi=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Xi(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(ao);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},xa=/^\[(.+)\]$/,Mh=e=>{if(xa.test(e)){const t=xa.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ih=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return _h(Object.entries(e.classGroups),r).forEach(([a,i])=>{kn(i,n,a,t)}),n},kn=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:ga(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(Oh(o)){kn(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,i])=>{kn(i,ga(t,a),r,n)})})},ga=(e,t)=>{let r=e;return t.split(ao).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Oh=e=>e.isThemeGetter,_h=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,o]}):e,Dh=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return o(a,i),i},set(a,i){r.has(a)?r.set(a,i):o(a,i)}}},Ji="!",kh=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,i=l=>{const d=[];let u=0,h=0,f;for(let p=0;p<l.length;p++){let w=l[p];if(u===0){if(w===o&&(n||l.slice(p,p+a)===t)){d.push(l.slice(h,p)),h=p+a;continue}if(w==="/"){f=p;continue}}w==="["?u++:w==="]"&&u--}const m=d.length===0?l:l.substring(h),g=m.startsWith(Ji),v=g?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},Lh=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Fh=e=>({cache:Dh(e.cacheSize),parseClassName:kh(e),...Ah(e)}),zh=/\s+/,$h=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(zh);let l="";for(let d=i.length-1;d>=0;d-=1){const u=i[d],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=r(u);let v=!!g,x=n(v?m.substring(0,g):m);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const p=Lh(h).join(":"),w=f?p+Ji:p,b=w+x;if(a.includes(b))continue;a.push(b);const j=o(x,v);for(let R=0;R<j.length;++R){const T=j[R];a.push(w+T)}l=u+(l.length>0?" "+l:l)}return l};function Vh(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Zi(t))&&(n&&(n+=" "),n+=r);return n}const Zi=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Zi(e[n]))&&(r&&(r+=" "),r+=t);return r};function qh(e,...t){let r,n,o,a=i;function i(d){const u=t.reduce((h,f)=>f(h),e());return r=Fh(u),n=r.cache.get,o=r.cache.set,a=l,l(d)}function l(d){const u=n(d);if(u)return u;const h=$h(d,r);return o(d,h),h}return function(){return a(Vh.apply(null,arguments))}}const ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},el=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hh=/^\d+\/\d+$/,Kh=new Set(["px","full","screen"]),Uh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,at=e=>rr(e)||Kh.has(e)||Hh.test(e),pt=e=>Nr(e,"length",sp),rr=e=>!!e&&!Number.isNaN(Number(e)),pn=e=>Nr(e,"number",rr),Or=e=>!!e&&Number.isInteger(Number(e)),Yh=e=>e.endsWith("%")&&rr(e.slice(0,-1)),G=e=>el.test(e),mt=e=>Uh.test(e),Xh=new Set(["length","size","percentage"]),Jh=e=>Nr(e,Xh,tl),Zh=e=>Nr(e,"position",tl),ep=new Set(["image","url"]),tp=e=>Nr(e,ep,op),rp=e=>Nr(e,"",np),_r=()=>!0,Nr=(e,t,r)=>{const n=el.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sp=e=>Bh.test(e)&&!Gh.test(e),tl=()=>!1,np=e=>Wh.test(e),op=e=>Qh.test(e),ap=()=>{const e=ce("colors"),t=ce("spacing"),r=ce("blur"),n=ce("brightness"),o=ce("borderColor"),a=ce("borderRadius"),i=ce("borderSpacing"),l=ce("borderWidth"),d=ce("contrast"),u=ce("grayscale"),h=ce("hueRotate"),f=ce("invert"),m=ce("gap"),g=ce("gradientColorStops"),v=ce("gradientColorStopPositions"),x=ce("inset"),p=ce("margin"),w=ce("opacity"),b=ce("padding"),j=ce("saturate"),R=ce("scale"),T=ce("sepia"),E=ce("skew"),P=ce("space"),S=ce("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",G,t],A=()=>[G,t],B=()=>["",at,pt],I=()=>["auto",rr,G],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",G],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[rr,G];return{cacheSize:500,separator:":",theme:{colors:[_r],spacing:[at,pt],blur:["none","",mt,G],brightness:Z(),borderColor:[e],borderRadius:["none","","full",mt,G],borderSpacing:A(),borderWidth:B(),contrast:Z(),grayscale:O(),hueRotate:Z(),invert:O(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Yh,pt],inset:_(),margin:_(),opacity:Z(),padding:A(),saturate:Z(),scale:Z(),sepia:O(),skew:Z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[mt]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),G]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Or,G]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Or,G]}],"grid-cols":[{"grid-cols":[_r]}],"col-start-end":[{col:["auto",{span:["full",Or,G]},G]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[_r]}],"row-start-end":[{row:["auto",{span:[Or,G]},G]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,t]}],"min-w":[{"min-w":[G,t,"min","max","fit"]}],"max-w":[{"max-w":[G,t,"none","full","min","max","fit","prose",{screen:[mt]},mt]}],h:[{h:[G,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mt,pt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pn]}],"font-family":[{font:[_r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",rr,pn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",at,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",at,pt]}],"underline-offset":[{"underline-offset":["auto",at,G]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Zh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jh]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tp]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...k(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:k()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...k()]}],"outline-offset":[{"outline-offset":[at,G]}],"outline-w":[{outline:[at,pt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[at,pt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mt,rp]}],"shadow-color":[{shadow:[_r]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",mt,G]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Or,G]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[at,pt,pn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ip=qh(ap);function V(...e){return ip(Bi(e))}const lp=jh,rl=c.forwardRef(({className:e,...t},r)=>s.jsx(zi,{ref:r,className:V("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rl.displayName=zi.displayName;const cp=Vs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sl=c.forwardRef(({className:e,variant:t,...r},n)=>s.jsx($i,{ref:n,className:V(cp({variant:t}),e),...r}));sl.displayName=$i.displayName;const dp=c.forwardRef(({className:e,...t},r)=>s.jsx(Hi,{ref:r,className:V("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dp.displayName=Hi.displayName;const nl=c.forwardRef(({className:e,...t},r)=>s.jsx(Ki,{ref:r,className:V("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Yi,{className:"h-4 w-4"})}));nl.displayName=Ki.displayName;const ol=c.forwardRef(({className:e,...t},r)=>s.jsx(Vi,{ref:r,className:V("text-sm font-semibold",e),...t}));ol.displayName=Vi.displayName;const al=c.forwardRef(({className:e,...t},r)=>s.jsx(qi,{ref:r,className:V("text-sm opacity-90",e),...t}));al.displayName=qi.displayName;function up(){const{toasts:e}=Jt();return s.jsxs(lp,{children:[e.map(function({id:t,title:r,description:n,action:o,...a}){return s.jsxs(sl,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(ol,{children:r}),n&&s.jsx(al,{children:n})]}),o,s.jsx(nl,{})]},t)}),s.jsx(rl,{})]})}const fp=["top","right","bottom","left"],Tt=Math.min,Ie=Math.max,Ss=Math.round,ps=Math.floor,Ze=e=>({x:e,y:e}),hp={left:"right",right:"left",bottom:"top",top:"bottom"},pp={start:"end",end:"start"};function Ln(e,t,r){return Ie(e,Tt(t,r))}function ut(e,t){return typeof e=="function"?e(t):e}function ft(e){return e.split("-")[0]}function Cr(e){return e.split("-")[1]}function io(e){return e==="x"?"y":"x"}function lo(e){return e==="y"?"height":"width"}function At(e){return["top","bottom"].includes(ft(e))?"y":"x"}function co(e){return io(At(e))}function mp(e,t,r){r===void 0&&(r=!1);const n=Cr(e),o=co(e),a=lo(o);let i=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Rs(i)),[i,Rs(i)]}function xp(e){const t=Rs(e);return[Fn(e),t,Fn(t)]}function Fn(e){return e.replace(/start|end/g,t=>pp[t])}function gp(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:i;default:return[]}}function vp(e,t,r,n){const o=Cr(e);let a=gp(ft(e),r==="start",n);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(Fn)))),a}function Rs(e){return e.replace(/left|right|bottom|top/g,t=>hp[t])}function bp(e){return{top:0,right:0,bottom:0,left:0,...e}}function il(e){return typeof e!="number"?bp(e):{top:e,right:e,bottom:e,left:e}}function Ps(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function va(e,t,r){let{reference:n,floating:o}=e;const a=At(t),i=co(t),l=lo(i),d=ft(t),u=a==="y",h=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,m=n[l]/2-o[l]/2;let g;switch(d){case"top":g={x:h,y:n.y-o.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-o.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Cr(t)){case"start":g[i]-=m*(r&&u?-1:1);break;case"end":g[i]+=m*(r&&u?-1:1);break}return g}const yp=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:f}=va(u,n,d),m=n,g={},v=0;for(let x=0;x<l.length;x++){const{name:p,fn:w}=l[x],{x:b,y:j,data:R,reset:T}=await w({x:h,y:f,initialPlacement:n,placement:m,strategy:o,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});h=b??h,f=j??f,g={...g,[p]:{...g[p],...R}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(u=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:h,y:f}=va(u,m,d)),x=-1)}return{x:h,y:f,placement:m,strategy:o,middlewareData:g}};async function Kr(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:i,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=ut(t,e),v=il(g),p=l[m?f==="floating"?"reference":"floating":f],w=Ps(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(p)))==null||r?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),b=f==="floating"?{x:n,y:o,width:i.floating.width,height:i.floating.height}:i.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),R=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},T=Ps(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:d}):b);return{top:(w.top-T.top+v.top)/R.y,bottom:(T.bottom-w.bottom+v.bottom)/R.y,left:(w.left-T.left+v.left)/R.x,right:(T.right-w.right+v.right)/R.x}}const wp=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:i,elements:l,middlewareData:d}=t,{element:u,padding:h=0}=ut(e,t)||{};if(u==null)return{};const f=il(h),m={x:r,y:n},g=co(o),v=lo(g),x=await i.getDimensions(u),p=g==="y",w=p?"top":"left",b=p?"bottom":"right",j=p?"clientHeight":"clientWidth",R=a.reference[v]+a.reference[g]-m[g]-a.floating[v],T=m[g]-a.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let P=E?E[j]:0;(!P||!await(i.isElement==null?void 0:i.isElement(E)))&&(P=l.floating[j]||a.floating[v]);const S=R/2-T/2,C=P/2-x[v]/2-1,N=Tt(f[w],C),_=Tt(f[b],C),A=N,B=P-x[v]-_,I=P/2-x[v]/2+S,K=Ln(A,I,B),k=!d.arrow&&Cr(o)!=null&&I!==K&&a.reference[v]/2-(I<A?N:_)-x[v]/2<0,W=k?I<A?I-A:I-B:0;return{[g]:m[g]+W,data:{[g]:K,centerOffset:I-K-W,...k&&{alignmentOffset:W}},reset:k}}}),jp=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...p}=ut(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=ft(o),b=At(l),j=ft(l)===l,R=await(d.isRTL==null?void 0:d.isRTL(u.floating)),T=m||(j||!x?[Rs(l)]:xp(l)),E=v!=="none";!m&&E&&T.push(...vp(l,x,v,R));const P=[l,...T],S=await Kr(t,p),C=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&C.push(S[w]),f){const I=mp(o,i,R);C.push(S[I[0]],S[I[1]])}if(N=[...N,{placement:o,overflows:C}],!C.every(I=>I<=0)){var _,A;const I=(((_=a.flip)==null?void 0:_.index)||0)+1,K=P[I];if(K)return{data:{index:I,overflows:N},reset:{placement:K}};let k=(A=N.filter(W=>W.overflows[0]<=0).sort((W,L)=>W.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!k)switch(g){case"bestFit":{var B;const W=(B=N.filter(L=>{if(E){const O=At(L.placement);return O===b||O==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(O=>O>0).reduce((O,J)=>O+J,0)]).sort((L,O)=>L[1]-O[1])[0])==null?void 0:B[0];W&&(k=W);break}case"initialPlacement":k=l;break}if(o!==k)return{reset:{placement:k}}}return{}}}};function ba(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ya(e){return fp.some(t=>e[t]>=0)}const Np=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=ut(e,t);switch(n){case"referenceHidden":{const a=await Kr(t,{...o,elementContext:"reference"}),i=ba(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ya(i)}}}case"escaped":{const a=await Kr(t,{...o,altBoundary:!0}),i=ba(a,r.floating);return{data:{escapedOffsets:i,escaped:ya(i)}}}default:return{}}}}};async function Cp(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),i=ft(r),l=Cr(r),d=At(r)==="y",u=["left","top"].includes(i)?-1:1,h=a&&d?-1:1,f=ut(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),d?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const Sp=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:i,middlewareData:l}=t,d=await Cp(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:i}}}}},Rp=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:p=>{let{x:w,y:b}=p;return{x:w,y:b}}},...d}=ut(e,t),u={x:r,y:n},h=await Kr(t,d),f=At(ft(o)),m=io(f);let g=u[m],v=u[f];if(a){const p=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=g+h[p],j=g-h[w];g=Ln(b,g,j)}if(i){const p=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=v+h[p],j=v-h[w];v=Ln(b,v,j)}const x=l.fn({...t,[m]:g,[f]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:a,[f]:i}}}}}},Pp=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=ut(e,t),h={x:r,y:n},f=At(o),m=io(f);let g=h[m],v=h[f];const x=ut(l,t),p=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const j=m==="y"?"height":"width",R=a.reference[m]-a.floating[j]+p.mainAxis,T=a.reference[m]+a.reference[j]-p.mainAxis;g<R?g=R:g>T&&(g=T)}if(u){var w,b;const j=m==="y"?"width":"height",R=["top","left"].includes(ft(o)),T=a.reference[f]-a.floating[j]+(R&&((w=i.offset)==null?void 0:w[f])||0)+(R?0:p.crossAxis),E=a.reference[f]+a.reference[j]+(R?0:((b=i.offset)==null?void 0:b[f])||0)-(R?p.crossAxis:0);v<T?v=T:v>E&&(v=E)}return{[m]:g,[f]:v}}}},Ep=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:d=()=>{},...u}=ut(e,t),h=await Kr(t,u),f=ft(o),m=Cr(o),g=At(o)==="y",{width:v,height:x}=a.floating;let p,w;f==="top"||f==="bottom"?(p=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,p=m==="end"?"top":"bottom");const b=x-h.top-h.bottom,j=v-h.left-h.right,R=Tt(x-h[p],b),T=Tt(v-h[w],j),E=!t.middlewareData.shift;let P=R,S=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=b),E&&!m){const N=Ie(h.left,0),_=Ie(h.right,0),A=Ie(h.top,0),B=Ie(h.bottom,0);g?S=v-2*(N!==0||_!==0?N+_:Ie(h.left,h.right)):P=x-2*(A!==0||B!==0?A+B:Ie(h.top,h.bottom))}await d({...t,availableWidth:S,availableHeight:P});const C=await i.getDimensions(l.floating);return v!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function qs(){return typeof window<"u"}function Sr(e){return ll(e)?(e.nodeName||"").toLowerCase():"#document"}function De(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tt(e){var t;return(t=(ll(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ll(e){return qs()?e instanceof Node||e instanceof De(e).Node:!1}function Ue(e){return qs()?e instanceof Element||e instanceof De(e).Element:!1}function et(e){return qs()?e instanceof HTMLElement||e instanceof De(e).HTMLElement:!1}function wa(e){return!qs()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof De(e).ShadowRoot}function ss(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Be(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function Tp(e){return["table","td","th"].includes(Sr(e))}function Hs(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function uo(e){const t=fo(),r=Ue(e)?Be(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ap(e){let t=Mt(e);for(;et(t)&&!br(t);){if(uo(t))return t;if(Hs(t))return null;t=Mt(t)}return null}function fo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function br(e){return["html","body","#document"].includes(Sr(e))}function Be(e){return De(e).getComputedStyle(e)}function Ks(e){return Ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mt(e){if(Sr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wa(e)&&e.host||tt(e);return wa(t)?t.host:t}function cl(e){const t=Mt(e);return br(t)?e.ownerDocument?e.ownerDocument.body:e.body:et(t)&&ss(t)?t:cl(t)}function Ur(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=cl(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),i=De(o);if(a){const l=zn(i);return t.concat(i,i.visualViewport||[],ss(o)?o:[],l&&r?Ur(l):[])}return t.concat(o,Ur(o,[],r))}function zn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dl(e){const t=Be(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=et(e),a=o?e.offsetWidth:r,i=o?e.offsetHeight:n,l=Ss(r)!==a||Ss(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function ho(e){return Ue(e)?e:e.contextElement}function sr(e){const t=ho(e);if(!et(t))return Ze(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=dl(t);let i=(a?Ss(r.width):r.width)/n,l=(a?Ss(r.height):r.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Mp=Ze(0);function ul(e){const t=De(e);return!fo()||!t.visualViewport?Mp:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ip(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==De(e)?!1:t}function Qt(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=ho(e);let i=Ze(1);t&&(n?Ue(n)&&(i=sr(n)):i=sr(e));const l=Ip(a,r,n)?ul(a):Ze(0);let d=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,h=o.width/i.x,f=o.height/i.y;if(a){const m=De(a),g=n&&Ue(n)?De(n):n;let v=m,x=zn(v);for(;x&&n&&g!==v;){const p=sr(x),w=x.getBoundingClientRect(),b=Be(x),j=w.left+(x.clientLeft+parseFloat(b.paddingLeft))*p.x,R=w.top+(x.clientTop+parseFloat(b.paddingTop))*p.y;d*=p.x,u*=p.y,h*=p.x,f*=p.y,d+=j,u+=R,v=De(x),x=zn(v)}}return Ps({width:h,height:f,x:d,y:u})}function po(e,t){const r=Ks(e).scrollLeft;return t?t.left+r:Qt(tt(e)).left+r}function fl(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:po(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function Op(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",i=tt(n),l=t?Hs(t.floating):!1;if(n===i||l&&a)return r;let d={scrollLeft:0,scrollTop:0},u=Ze(1);const h=Ze(0),f=et(n);if((f||!f&&!a)&&((Sr(n)!=="body"||ss(i))&&(d=Ks(n)),et(n))){const g=Qt(n);u=sr(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const m=i&&!f&&!a?fl(i,d,!0):Ze(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-d.scrollTop*u.y+h.y+m.y}}function _p(e){return Array.from(e.getClientRects())}function Dp(e){const t=tt(e),r=Ks(e),n=e.ownerDocument.body,o=Ie(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ie(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+po(e);const l=-r.scrollTop;return Be(n).direction==="rtl"&&(i+=Ie(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:i,y:l}}function kp(e,t){const r=De(e),n=tt(e),o=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,d=0;if(o){a=o.width,i=o.height;const u=fo();(!u||u&&t==="fixed")&&(l=o.offsetLeft,d=o.offsetTop)}return{width:a,height:i,x:l,y:d}}function Lp(e,t){const r=Qt(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=et(e)?sr(e):Ze(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,d=o*a.x,u=n*a.y;return{width:i,height:l,x:d,y:u}}function ja(e,t,r){let n;if(t==="viewport")n=kp(e,r);else if(t==="document")n=Dp(tt(e));else if(Ue(t))n=Lp(t,r);else{const o=ul(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ps(n)}function hl(e,t){const r=Mt(e);return r===t||!Ue(r)||br(r)?!1:Be(r).position==="fixed"||hl(r,t)}function Fp(e,t){const r=t.get(e);if(r)return r;let n=Ur(e,[],!1).filter(l=>Ue(l)&&Sr(l)!=="body"),o=null;const a=Be(e).position==="fixed";let i=a?Mt(e):e;for(;Ue(i)&&!br(i);){const l=Be(i),d=uo(i);!d&&l.position==="fixed"&&(o=null),(a?!d&&!o:!d&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ss(i)&&!d&&hl(e,i))?n=n.filter(h=>h!==i):o=l,i=Mt(i)}return t.set(e,n),n}function zp(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i=[...r==="clippingAncestors"?Hs(t)?[]:Fp(t,this._c):[].concat(r),n],l=i[0],d=i.reduce((u,h)=>{const f=ja(t,h,o);return u.top=Ie(f.top,u.top),u.right=Tt(f.right,u.right),u.bottom=Tt(f.bottom,u.bottom),u.left=Ie(f.left,u.left),u},ja(t,l,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function $p(e){const{width:t,height:r}=dl(e);return{width:t,height:r}}function Vp(e,t,r){const n=et(t),o=tt(t),a=r==="fixed",i=Qt(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=Ze(0);if(n||!n&&!a)if((Sr(t)!=="body"||ss(o))&&(l=Ks(t)),n){const m=Qt(t,!0,a,t);d.x=m.x+t.clientLeft,d.y=m.y+t.clientTop}else o&&(d.x=po(o));const u=o&&!n&&!a?fl(o,l):Ze(0),h=i.left+l.scrollLeft-d.x-u.x,f=i.top+l.scrollTop-d.y-u.y;return{x:h,y:f,width:i.width,height:i.height}}function mn(e){return Be(e).position==="static"}function Na(e,t){if(!et(e)||Be(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return tt(e)===r&&(r=r.ownerDocument.body),r}function pl(e,t){const r=De(e);if(Hs(e))return r;if(!et(e)){let o=Mt(e);for(;o&&!br(o);){if(Ue(o)&&!mn(o))return o;o=Mt(o)}return r}let n=Na(e,t);for(;n&&Tp(n)&&mn(n);)n=Na(n,t);return n&&br(n)&&mn(n)&&!uo(n)?r:n||Ap(e)||r}const qp=async function(e){const t=this.getOffsetParent||pl,r=this.getDimensions,n=await r(e.floating);return{reference:Vp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hp(e){return Be(e).direction==="rtl"}const Kp={convertOffsetParentRelativeRectToViewportRelativeRect:Op,getDocumentElement:tt,getClippingRect:zp,getOffsetParent:pl,getElementRects:qp,getClientRects:_p,getDimensions:$p,getScale:sr,isElement:Ue,isRTL:Hp};function ml(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Up(e,t){let r=null,n;const o=tt(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const v=ps(f),x=ps(o.clientWidth-(h+m)),p=ps(o.clientHeight-(f+g)),w=ps(h),j={rootMargin:-v+"px "+-x+"px "+-p+"px "+-w+"px",threshold:Ie(0,Tt(1,d))||1};let R=!0;function T(E){const P=E[0].intersectionRatio;if(P!==d){if(!R)return i();P?i(!1,P):n=setTimeout(()=>{i(!1,1e-7)},1e3)}P===1&&!ml(u,e.getBoundingClientRect())&&i(),R=!1}try{r=new IntersectionObserver(T,{...j,root:o.ownerDocument})}catch{r=new IntersectionObserver(T,j)}r.observe(e)}return i(!0),a}function Bp(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=ho(e),h=o||a?[...u?Ur(u):[],...Ur(t)]:[];h.forEach(w=>{o&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const f=u&&l?Up(u,r):null;let m=-1,g=null;i&&(g=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(t)})),r()}),u&&!d&&g.observe(u),g.observe(t));let v,x=d?Qt(e):null;d&&p();function p(){const w=Qt(e);x&&!ml(x,w)&&r(),x=w,v=requestAnimationFrame(p)}return r(),()=>{var w;h.forEach(b=>{o&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,d&&cancelAnimationFrame(v)}}const Gp=Sp,Wp=Rp,Qp=jp,Yp=Ep,Xp=Np,Ca=wp,Jp=Pp,Zp=(e,t,r)=>{const n=new Map,o={platform:Kp,...r},a={...o.platform,_c:n};return yp(e,t,{...o,platform:a})};var vs=typeof document<"u"?c.useLayoutEffect:c.useEffect;function Es(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Es(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!Es(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function xl(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sa(e,t){const r=xl(e);return Math.round(t*r)/r}function xn(e){const t=c.useRef(e);return vs(()=>{t.current=e}),t}function em(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[h,f]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=c.useState(n);Es(m,n)||g(n);const[v,x]=c.useState(null),[p,w]=c.useState(null),b=c.useCallback(L=>{L!==E.current&&(E.current=L,x(L))},[]),j=c.useCallback(L=>{L!==P.current&&(P.current=L,w(L))},[]),R=a||v,T=i||p,E=c.useRef(null),P=c.useRef(null),S=c.useRef(h),C=d!=null,N=xn(d),_=xn(o),A=xn(u),B=c.useCallback(()=>{if(!E.current||!P.current)return;const L={placement:t,strategy:r,middleware:m};_.current&&(L.platform=_.current),Zp(E.current,P.current,L).then(O=>{const J={...O,isPositioned:A.current!==!1};I.current&&!Es(S.current,J)&&(S.current=J,es.flushSync(()=>{f(J)}))})},[m,t,r,_,A]);vs(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const I=c.useRef(!1);vs(()=>(I.current=!0,()=>{I.current=!1}),[]),vs(()=>{if(R&&(E.current=R),T&&(P.current=T),R&&T){if(N.current)return N.current(R,T,B);B()}},[R,T,B,N,C]);const K=c.useMemo(()=>({reference:E,floating:P,setReference:b,setFloating:j}),[b,j]),k=c.useMemo(()=>({reference:R,floating:T}),[R,T]),W=c.useMemo(()=>{const L={position:r,left:0,top:0};if(!k.floating)return L;const O=Sa(k.floating,h.x),J=Sa(k.floating,h.y);return l?{...L,transform:"translate("+O+"px, "+J+"px)",...xl(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:J}},[r,l,k.floating,h.x,h.y]);return c.useMemo(()=>({...h,update:B,refs:K,elements:k,floatingStyles:W}),[h,B,K,k,W])}const tm=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ca({element:n.current,padding:o}).fn(r):{}:n?Ca({element:n,padding:o}).fn(r):{}}}},rm=(e,t)=>({...Gp(e),options:[e,t]}),sm=(e,t)=>({...Wp(e),options:[e,t]}),nm=(e,t)=>({...Jp(e),options:[e,t]}),om=(e,t)=>({...Qp(e),options:[e,t]}),am=(e,t)=>({...Yp(e),options:[e,t]}),im=(e,t)=>({...Xp(e),options:[e,t]}),lm=(e,t)=>({...tm(e),options:[e,t]});var cm="Arrow",gl=c.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(F.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});gl.displayName=cm;var dm=gl;function vl(e){const[t,r]=c.useState(void 0);return be(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const d=a.borderBoxSize,u=Array.isArray(d)?d[0]:d;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mo="Popper",[bl,Rr]=Ce(mo),[um,yl]=bl(mo),wl=e=>{const{__scopePopper:t,children:r}=e,[n,o]=c.useState(null);return s.jsx(um,{scope:t,anchor:n,onAnchorChange:o,children:r})};wl.displayName=mo;var jl="PopperAnchor",Nl=c.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=yl(jl,r),i=c.useRef(null),l=X(t,i);return c.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:s.jsx(F.div,{...o,ref:l})});Nl.displayName=jl;var xo="PopperContent",[fm,hm]=bl(xo),Cl=c.forwardRef((e,t)=>{var z,oe,le,ne,ae,ie;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=e,p=yl(xo,r),[w,b]=c.useState(null),j=X(t,Ae=>b(Ae)),[R,T]=c.useState(null),E=vl(R),P=(E==null?void 0:E.width)??0,S=(E==null?void 0:E.height)??0,C=n+(a!=="center"?"-"+a:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(u)?u:[u],A=_.length>0,B={padding:N,boundary:_.filter(mm),altBoundary:A},{refs:I,floatingStyles:K,placement:k,isPositioned:W,middlewareData:L}=em({strategy:"fixed",placement:C,whileElementsMounted:(...Ae)=>Bp(...Ae,{animationFrame:g==="always"}),elements:{reference:p.anchor},middleware:[rm({mainAxis:o+S,alignmentAxis:i}),d&&sm({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nm():void 0,...B}),d&&om({...B}),am({...B,apply:({elements:Ae,rects:Ge,availableWidth:Ar,availableHeight:Mr})=>{const{width:Ir,height:Ou}=Ge.reference,ls=Ae.floating.style;ls.setProperty("--radix-popper-available-width",`${Ar}px`),ls.setProperty("--radix-popper-available-height",`${Mr}px`),ls.setProperty("--radix-popper-anchor-width",`${Ir}px`),ls.setProperty("--radix-popper-anchor-height",`${Ou}px`)}}),R&&lm({element:R,padding:l}),xm({arrowWidth:P,arrowHeight:S}),m&&im({strategy:"referenceHidden",...B})]}),[O,J]=Pl(k),Z=ve(v);be(()=>{W&&(Z==null||Z())},[W,Z]);const pe=(z=L.arrow)==null?void 0:z.x,Re=(oe=L.arrow)==null?void 0:oe.y,we=((le=L.arrow)==null?void 0:le.centerOffset)!==0,[nt,Te]=c.useState();return be(()=>{w&&Te(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:W?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(ne=L.transformOrigin)==null?void 0:ne.x,(ae=L.transformOrigin)==null?void 0:ae.y].join(" "),...((ie=L.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(fm,{scope:r,placedSide:O,onArrowChange:T,arrowX:pe,arrowY:Re,shouldHideArrow:we,children:s.jsx(F.div,{"data-side":O,"data-align":J,...x,ref:j,style:{...x.style,animation:W?void 0:"none"}})})})});Cl.displayName=xo;var Sl="PopperArrow",pm={top:"bottom",right:"left",bottom:"top",left:"right"},Rl=c.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=hm(Sl,n),i=pm[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(dm,{...o,ref:r,style:{...o.style,display:"block"}})})});Rl.displayName=Sl;function mm(e){return e!==null}var xm=e=>({name:"transformOrigin",options:e,fn(t){var p,w,b;const{placement:r,rects:n,middlewareData:o}=t,i=((p=o.arrow)==null?void 0:p.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[u,h]=Pl(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((w=o.arrow)==null?void 0:w.x)??0)+l/2,g=(((b=o.arrow)==null?void 0:b.y)??0)+d/2;let v="",x="";return u==="bottom"?(v=i?f:`${m}px`,x=`${-d}px`):u==="top"?(v=i?f:`${m}px`,x=`${n.floating.height+d}px`):u==="right"?(v=`${-d}px`,x=i?f:`${g}px`):u==="left"&&(v=`${n.floating.width+d}px`,x=i?f:`${g}px`),{data:{x:v,y:x}}}});function Pl(e){const[t,r="center"]=e.split("-");return[t,r]}var El=wl,go=Nl,vo=Cl,bo=Rl,[Us,ib]=Ce("Tooltip",[Rr]),yo=Rr(),Tl="TooltipProvider",gm=700,Ra="tooltip.open",[vm,Al]=Us(Tl),Ml=e=>{const{__scopeTooltip:t,delayDuration:r=gm,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,i=c.useRef(!0),l=c.useRef(!1),d=c.useRef(0);return c.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(vm,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:c.useCallback(()=>{window.clearTimeout(d.current),i.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:c.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};Ml.displayName=Tl;var Il="Tooltip",[lb,Bs]=Us(Il),$n="TooltipTrigger",bm=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Bs($n,r),a=Al($n,r),i=yo(r),l=c.useRef(null),d=X(t,l,o.onTriggerChange),u=c.useRef(!1),h=c.useRef(!1),f=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(go,{asChild:!0,...i,children:s.jsx(F.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:d,onPointerMove:M(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:M(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:M(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:M(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:M(e.onBlur,o.onClose),onClick:M(e.onClick,o.onClose)})})});bm.displayName=$n;var ym="TooltipPortal",[cb,wm]=Us(ym,{forceMount:void 0}),yr="TooltipContent",Ol=c.forwardRef((e,t)=>{const r=wm(yr,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,i=Bs(yr,e.__scopeTooltip);return s.jsx(ke,{present:n||i.open,children:i.disableHoverableContent?s.jsx(_l,{side:o,...a,ref:t}):s.jsx(jm,{side:o,...a,ref:t})})}),jm=c.forwardRef((e,t)=>{const r=Bs(yr,e.__scopeTooltip),n=Al(yr,e.__scopeTooltip),o=c.useRef(null),a=X(t,o),[i,l]=c.useState(null),{trigger:d,onClose:u}=r,h=o.current,{onPointerInTransitChange:f}=n,m=c.useCallback(()=>{l(null),f(!1)},[f]),g=c.useCallback((v,x)=>{const p=v.currentTarget,w={x:v.clientX,y:v.clientY},b=Pm(w,p.getBoundingClientRect()),j=Em(w,b),R=Tm(x.getBoundingClientRect()),T=Mm([...j,...R]);l(T),f(!0)},[f]);return c.useEffect(()=>()=>m(),[m]),c.useEffect(()=>{if(d&&h){const v=p=>g(p,h),x=p=>g(p,d);return d.addEventListener("pointerleave",v),h.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",x)}}},[d,h,g,m]),c.useEffect(()=>{if(i){const v=x=>{const p=x.target,w={x:x.clientX,y:x.clientY},b=(d==null?void 0:d.contains(p))||(h==null?void 0:h.contains(p)),j=!Am(w,i);b?m():j&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,h,i,u,m]),s.jsx(_l,{...e,ref:a})}),[Nm,Cm]=Us(Il,{isInside:!1}),Sm=ku("TooltipContent"),_l=c.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,d=Bs(yr,r),u=yo(r),{onClose:h}=d;return c.useEffect(()=>(document.addEventListener(Ra,h),()=>document.removeEventListener(Ra,h)),[h]),c.useEffect(()=>{if(d.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(d.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,h]),s.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:s.jsxs(vo,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Sm,{children:n}),s.jsx(Nm,{scope:r,isInside:!0,children:s.jsx(nh,{id:d.contentId,role:"tooltip",children:o||n})})]})})});Ol.displayName=yr;var Dl="TooltipArrow",Rm=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=yo(r);return Cm(Dl,r).isInside?null:s.jsx(bo,{...o,...n,ref:t})});Rm.displayName=Dl;function Pm(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Em(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Tm(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function Am(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,d=t[a].y,u=t[i].x,h=t[i].y;d>n!=h>n&&r<(u-l)*(n-d)/(h-d)+l&&(o=!o)}return o}function Mm(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Im(t)}function Im(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Om=Ml,kl=Ol;const _m=Om,Dm=c.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(kl,{ref:n,sideOffset:t,className:V("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Dm.displayName=kl.displayName;const Ll=c.createContext(null);function km({children:e}){const[t,r]=c.useState(null),[n,o]=c.useState(!0);c.useEffect(()=>{const d=localStorage.getItem("promessisposi_user");if(d)try{const u=JSON.parse(d);r(u)}catch(u){console.error("Error parsing stored user data:",u),localStorage.removeItem("promessisposi_user")}o(!1)},[]);const a=async(d,u)=>{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:d,password:u})});if(!h.ok){const m=await h.json();throw new Error(m.message||"Errore durante l'accesso")}const f=await h.json();r(f.user),localStorage.setItem("promessisposi_user",JSON.stringify(f.user))},i=async d=>{const u=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)});if(!u.ok){const f=await u.json();throw new Error(f.message||"Errore durante la registrazione")}const h=await u.json();r(h.user),localStorage.setItem("promessisposi_user",JSON.stringify(h.user))},l=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(d){console.error("Logout error:",d)}finally{r(null),localStorage.removeItem("promessisposi_user")}};return s.jsx(Ll.Provider,{value:{user:t,login:a,register:i,logout:l,isLoading:n},children:e})}function rt(){const e=c.useContext(Ll);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Lm=Vs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=c.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const i=n?Lu:"button";return s.jsx(i,{className:V(Lm({variant:t,size:r,className:e})),ref:a,...o})});U.displayName="Button";const q=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:V("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const re=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:V("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const ee=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:V("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const Bt=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:V("text-sm text-muted-foreground",e),...t}));Bt.displayName="CardDescription";const H=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:V("p-6 pt-0",e),...t}));H.displayName="CardContent";const Fm=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:V("flex items-center p-6 pt-0",e),...t}));Fm.displayName="CardFooter";function zm(){const{user:e,isLoading:t}=rt(),[,r]=It();return c.useEffect(()=>{!t&&e&&r("/dashboard")},[e,t,r]),t?s.jsx("div",{className:"min-h-screen bg-warm-cream flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-literary-blue"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 gradient-bg opacity-95"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-yellow-300/10 rounded-full blur-3xl"}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-white/20 text-white backdrop-blur-sm border border-white/20",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Piattaforma Beta"]})}),s.jsxs("h1",{className:"text-6xl md:text-7xl font-avenir font-bold mb-8 text-white",children:[s.jsx("span",{className:"bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"PromessiSposi"}),s.jsx("span",{className:"text-yellow-300",children:".io"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Un'esperienza didattica rivoluzionaria per esplorare il capolavoro di Manzoni attraverso tecnologie moderne e gamification coinvolgente"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[s.jsxs(U,{size:"lg",onClick:()=>r("/auth"),className:"w-64 bg-white hover:bg-gray-100 text-blue-600 font-bold text-lg py-4 floating-card shadow-xl border-2 border-white/20",children:[s.jsx("span",{className:"mr-2",children:""}),"Inizia il tuo viaggio"]}),s.jsxs(U,{size:"lg",variant:"outline",className:"w-64 bg-white/10 backdrop-blur-sm border-2 border-white text-white hover:bg-white/20 font-bold text-lg py-4 floating-card",children:[s.jsx("span",{className:"mr-2",children:""}),"Scopri di pi"]})]}),s.jsxs("div",{className:"mt-16 flex justify-center space-x-8 text-white/60",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"1000+"}),s.jsx("div",{className:"text-sm",children:"Studenti attivi"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"38"}),s.jsx("div",{className:"text-sm",children:"Capitoli interattivi"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:"100+"}),s.jsx("div",{className:"text-sm",children:"Quiz coinvolgenti"})]})]})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-avenir font-bold text-literary-blue mb-4",children:"Perch scegliere PromessiSposi.io?"}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Una piattaforma innovativa che combina letteratura classica e tecnologia moderna per rendere lo studio coinvolgente e efficace."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsx(q,{className:"modern-card text-center p-8 floating-card group",children:s.jsxs(H,{className:"pt-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:s.jsx("i",{className:"fas fa-book-open text-white text-3xl"})}),s.jsx("h3",{className:"text-2xl font-avenir font-bold mb-4 text-gray-800",children:"Lettura Interattiva"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Testo annotato con glossario integrato e note contestuali per una comprensione profonda e coinvolgente."})]})}),s.jsx(q,{className:"modern-card text-center p-8 floating-card group",children:s.jsxs(H,{className:"pt-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 p-6 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:s.jsx("i",{className:"fas fa-trophy text-white text-3xl"})}),s.jsx("h3",{className:"text-2xl font-avenir font-bold mb-4 text-gray-800",children:"Gamification"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Sistema di punti, livelli e traguardi per rendere lo studio motivante e divertente."})]})}),s.jsx(q,{className:"modern-card text-center p-8 floating-card group",children:s.jsxs(H,{className:"pt-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-6 rounded-2xl w-20 h-20 mx-auto mb-6 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:s.jsx("i",{className:"fas fa-chart-line text-white text-3xl"})}),s.jsx("h3",{className:"text-2xl font-avenir font-bold mb-4 text-gray-800",children:"Progresso Personalizzato"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Monitora i tuoi progressi con statistiche dettagliate e raccomandazioni personalizzate."})]})})]})]}),s.jsx("div",{className:"bg-gray-50 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-3xl font-avenir font-bold text-literary-blue mb-4",children:"Pronto a iniziare?"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Unisciti a migliaia di studenti che stanno gi esplorando I Promessi Sposi in modo nuovo e coinvolgente."}),s.jsx(U,{size:"lg",onClick:()=>r("/auth"),className:"bg-literary-blue hover:bg-literary-blue/90 text-lg px-8 py-3",children:"Registrati gratuitamente"})]})})]})}const ue=c.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:V("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ue.displayName="Input";var $m="Label",Fl=c.forwardRef((e,t)=>s.jsx(F.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Fl.displayName=$m;var zl=Fl;const Vm=Vs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=c.forwardRef(({className:e,...t},r)=>s.jsx(zl,{ref:r,className:V(Vm(),e),...t}));te.displayName=zl.displayName;var qm=c.createContext(void 0);function Pr(e){const t=c.useContext(qm);return e||t||"ltr"}var gn="rovingFocusGroup.onEntryFocus",Hm={bubbles:!1,cancelable:!0},Gs="RovingFocusGroup",[Vn,$l,Km]=Fs(Gs),[Um,Er]=Ce(Gs,[Km]),[Bm,Gm]=Um(Gs),Vl=c.forwardRef((e,t)=>s.jsx(Vn.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Vn.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Wm,{...e,ref:t})})}));Vl.displayName=Gs;var Wm=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=c.useRef(null),g=X(t,m),v=Pr(a),[x=null,p]=Pt({prop:i,defaultProp:l,onChange:d}),[w,b]=c.useState(!1),j=ve(u),R=$l(r),T=c.useRef(!1),[E,P]=c.useState(0);return c.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(gn,j),()=>S.removeEventListener(gn,j)},[j]),s.jsx(Bm,{scope:r,orientation:n,dir:v,loop:o,currentTabStopId:x,onItemFocus:c.useCallback(S=>p(S),[p]),onItemShiftTab:c.useCallback(()=>b(!0),[]),onFocusableItemAdd:c.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:c.useCallback(()=>P(S=>S-1),[]),children:s.jsx(F.div,{tabIndex:w||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:M(e.onMouseDown,()=>{T.current=!0}),onFocus:M(e.onFocus,S=>{const C=!T.current;if(S.target===S.currentTarget&&C&&!w){const N=new CustomEvent(gn,Hm);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const _=R().filter(k=>k.focusable),A=_.find(k=>k.active),B=_.find(k=>k.id===x),K=[A,B,..._].filter(Boolean).map(k=>k.ref.current);Kl(K,h)}}T.current=!1}),onBlur:M(e.onBlur,()=>b(!1))})})}),ql="RovingFocusGroupItem",Hl=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,...i}=e,l=Et(),d=a||l,u=Gm(ql,r),h=u.currentTabStopId===d,f=$l(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return c.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(Vn.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:s.jsx(F.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:M(e.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:M(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:M(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Xm(v,u.orientation,u.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const b=w.indexOf(v.currentTarget);w=u.loop?Jm(w,b+1):w.slice(b+1)}setTimeout(()=>Kl(w))}})})})});Hl.displayName=ql;var Qm={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ym(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xm(e,t,r){const n=Ym(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Qm[n]}function Kl(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Jm(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wo=Vl,jo=Hl,No="Tabs",[Zm,db]=Ce(No,[Er]),Ul=Er(),[ex,Co]=Zm(No),Bl=c.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:d="automatic",...u}=e,h=Pr(l),[f,m]=Pt({prop:n,onChange:o,defaultProp:a});return s.jsx(ex,{scope:r,baseId:Et(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:d,children:s.jsx(F.div,{dir:h,"data-orientation":i,...u,ref:t})})});Bl.displayName=No;var Gl="TabsList",Wl=c.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=Co(Gl,r),i=Ul(r);return s.jsx(wo,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(F.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});Wl.displayName=Gl;var Ql="TabsTrigger",Yl=c.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,i=Co(Ql,r),l=Ul(r),d=Zl(i.baseId,n),u=ec(i.baseId,n),h=n===i.value;return s.jsx(jo,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(F.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...a,ref:t,onMouseDown:M(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:M(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:M(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!o&&f&&i.onValueChange(n)})})})});Yl.displayName=Ql;var Xl="TabsContent",Jl=c.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...i}=e,l=Co(Xl,r),d=Zl(l.baseId,n),u=ec(l.baseId,n),h=n===l.value,f=c.useRef(h);return c.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ke,{present:o||h,children:({present:m})=>s.jsx(F.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});Jl.displayName=Xl;function Zl(e,t){return`${e}-trigger-${t}`}function ec(e,t){return`${e}-content-${t}`}var tx=Bl,tc=Wl,rc=Yl,sc=Jl;const Ws=tx,ns=c.forwardRef(({className:e,...t},r)=>s.jsx(tc,{ref:r,className:V("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ns.displayName=tc.displayName;const Oe=c.forwardRef(({className:e,...t},r)=>s.jsx(rc,{ref:r,className:V("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oe.displayName=rc.displayName;const _e=c.forwardRef(({className:e,...t},r)=>s.jsx(sc,{ref:r,className:V("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_e.displayName=sc.displayName;function qn(e,[t,r]){return Math.min(r,Math.max(t,e))}function nc(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rx=[" ","Enter","ArrowUp","ArrowDown"],sx=[" ","Enter"],os="Select",[Qs,Ys,nx]=Fs(os),[Tr,ub]=Ce(os,[nx,Rr]),Xs=Rr(),[ox,Ot]=Tr(os),[ax,ix]=Tr(os),oc=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:v}=e,x=Xs(t),[p,w]=c.useState(null),[b,j]=c.useState(null),[R,T]=c.useState(!1),E=Pr(u),[P=!1,S]=Pt({prop:n,defaultProp:o,onChange:a}),[C,N]=Pt({prop:i,defaultProp:l,onChange:d}),_=c.useRef(null),A=p?v||!!p.closest("form"):!0,[B,I]=c.useState(new Set),K=Array.from(B).map(k=>k.props.value).join(";");return s.jsx(El,{...x,children:s.jsxs(ox,{required:g,scope:t,trigger:p,onTriggerChange:w,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:R,onValueNodeHasChildrenChange:T,contentId:Et(),value:C,onValueChange:N,open:P,onOpenChange:S,dir:E,triggerPointerDownPosRef:_,disabled:m,children:[s.jsx(Qs.Provider,{scope:t,children:s.jsx(ax,{scope:e.__scopeSelect,onNativeOptionAdd:c.useCallback(k=>{I(W=>new Set(W).add(k))},[]),onNativeOptionRemove:c.useCallback(k=>{I(W=>{const L=new Set(W);return L.delete(k),L})},[]),children:r})}),A?s.jsxs(Ac,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:k=>N(k.target.value),disabled:m,form:v,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(B)]},K):null]})})};oc.displayName=os;var ac="SelectTrigger",ic=c.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Xs(r),i=Ot(ac,r),l=i.disabled||n,d=X(t,i.onTriggerChange),u=Ys(r),h=c.useRef("touch"),[f,m,g]=Mc(x=>{const p=u().filter(j=>!j.disabled),w=p.find(j=>j.value===i.value),b=Ic(p,x,w);b!==void 0&&i.onValueChange(b.value)}),v=x=>{l||(i.onOpenChange(!0),g()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(go,{asChild:!0,...a,children:s.jsx(F.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Tc(i.value)?"":void 0,...o,ref:d,onClick:M(o.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&v(x)}),onPointerDown:M(o.onPointerDown,x=>{h.current=x.pointerType;const p=x.target;p.hasPointerCapture(x.pointerId)&&p.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:M(o.onKeyDown,x=>{const p=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(p&&x.key===" ")&&rx.includes(x.key)&&(v(),x.preventDefault())})})})});ic.displayName=ac;var lc="SelectValue",cc=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...l}=e,d=Ot(lc,r),{onValueNodeHasChildrenChange:u}=d,h=a!==void 0,f=X(t,d.onValueNodeChange);return be(()=>{u(h)},[u,h]),s.jsx(F.span,{...l,ref:f,style:{pointerEvents:"none"},children:Tc(d.value)?s.jsx(s.Fragment,{children:i}):a})});cc.displayName=lc;var lx="SelectIcon",dc=c.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(F.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});dc.displayName=lx;var cx="SelectPortal",uc=e=>s.jsx(Qn,{asChild:!0,...e});uc.displayName=cx;var Yt="SelectContent",fc=c.forwardRef((e,t)=>{const r=Ot(Yt,e.__scopeSelect),[n,o]=c.useState();if(be(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?es.createPortal(s.jsx(hc,{scope:e.__scopeSelect,children:s.jsx(Qs.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(pc,{...e,ref:t})});fc.displayName=Yt;var qe=10,[hc,_t]=Tr(Yt),dx="SelectContentImpl",ux=js("SelectContent.RemoveScroll"),pc=c.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:p,...w}=e,b=Ot(Yt,r),[j,R]=c.useState(null),[T,E]=c.useState(null),P=X(t,z=>R(z)),[S,C]=c.useState(null),[N,_]=c.useState(null),A=Ys(r),[B,I]=c.useState(!1),K=c.useRef(!1);c.useEffect(()=>{if(j)return Ka(j)},[j]),Ua();const k=c.useCallback(z=>{const[oe,...le]=A().map(ie=>ie.ref.current),[ne]=le.slice(-1),ae=document.activeElement;for(const ie of z)if(ie===ae||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===oe&&T&&(T.scrollTop=0),ie===ne&&T&&(T.scrollTop=T.scrollHeight),ie==null||ie.focus(),document.activeElement!==ae))return},[A,T]),W=c.useCallback(()=>k([S,j]),[k,S,j]);c.useEffect(()=>{B&&W()},[B,W]);const{onOpenChange:L,triggerPointerDownPosRef:O}=b;c.useEffect(()=>{if(j){let z={x:0,y:0};const oe=ne=>{var ae,ie;z={x:Math.abs(Math.round(ne.pageX)-(((ae=O.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((ie=O.current)==null?void 0:ie.y)??0))}},le=ne=>{z.x<=10&&z.y<=10?ne.preventDefault():j.contains(ne.target)||L(!1),document.removeEventListener("pointermove",oe),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",le,{capture:!0})}}},[j,L,O]),c.useEffect(()=>{const z=()=>L(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[L]);const[J,Z]=Mc(z=>{const oe=A().filter(ae=>!ae.disabled),le=oe.find(ae=>ae.ref.current===document.activeElement),ne=Ic(oe,z,le);ne&&setTimeout(()=>ne.ref.current.focus())}),pe=c.useCallback((z,oe,le)=>{const ne=!K.current&&!le;(b.value!==void 0&&b.value===oe||ne)&&(C(z),ne&&(K.current=!0))},[b.value]),Re=c.useCallback(()=>j==null?void 0:j.focus(),[j]),we=c.useCallback((z,oe,le)=>{const ne=!K.current&&!le;(b.value!==void 0&&b.value===oe||ne)&&_(z)},[b.value]),nt=n==="popper"?Hn:mc,Te=nt===Hn?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:p}:{};return s.jsx(hc,{scope:r,content:j,viewport:T,onViewportChange:E,itemRefCallback:pe,selectedItem:S,onItemLeave:Re,itemTextRefCallback:we,focusSelectedItem:W,selectedItemText:N,position:n,isPositioned:B,searchRef:J,children:s.jsx(Ba,{as:ux,allowPinchZoom:!0,children:s.jsx(Ga,{asChild:!0,trapped:b.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:M(o,z=>{var oe;(oe=b.trigger)==null||oe.focus({preventScroll:!0}),z.preventDefault()}),children:s.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(nt,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:z=>z.preventDefault(),...w,...Te,onPlaced:()=>I(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:M(w.onKeyDown,z=>{const oe=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!oe&&z.key.length===1&&Z(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ne=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ae=z.target,ie=ne.indexOf(ae);ne=ne.slice(ie+1)}setTimeout(()=>k(ne)),z.preventDefault()}})})})})})})});pc.displayName=dx;var fx="SelectItemAlignedPosition",mc=c.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Ot(Yt,r),i=_t(Yt,r),[l,d]=c.useState(null),[u,h]=c.useState(null),f=X(t,P=>h(P)),m=Ys(r),g=c.useRef(!1),v=c.useRef(!0),{viewport:x,selectedItem:p,selectedItemText:w,focusSelectedItem:b}=i,j=c.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&p&&w){const P=a.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(a.dir!=="rtl"){const ae=N.left-S.left,ie=C.left-ae,Ae=P.left-ie,Ge=P.width+Ae,Ar=Math.max(Ge,S.width),Mr=window.innerWidth-qe,Ir=qn(ie,[qe,Math.max(qe,Mr-Ar)]);l.style.minWidth=Ge+"px",l.style.left=Ir+"px"}else{const ae=S.right-N.right,ie=window.innerWidth-C.right-ae,Ae=window.innerWidth-P.right-ie,Ge=P.width+Ae,Ar=Math.max(Ge,S.width),Mr=window.innerWidth-qe,Ir=qn(ie,[qe,Math.max(qe,Mr-Ar)]);l.style.minWidth=Ge+"px",l.style.right=Ir+"px"}const _=m(),A=window.innerHeight-qe*2,B=x.scrollHeight,I=window.getComputedStyle(u),K=parseInt(I.borderTopWidth,10),k=parseInt(I.paddingTop,10),W=parseInt(I.borderBottomWidth,10),L=parseInt(I.paddingBottom,10),O=K+k+B+L+W,J=Math.min(p.offsetHeight*5,O),Z=window.getComputedStyle(x),pe=parseInt(Z.paddingTop,10),Re=parseInt(Z.paddingBottom,10),we=P.top+P.height/2-qe,nt=A-we,Te=p.offsetHeight/2,z=p.offsetTop+Te,oe=K+k+z,le=O-oe;if(oe<=we){const ae=_.length>0&&p===_[_.length-1].ref.current;l.style.bottom="0px";const ie=u.clientHeight-x.offsetTop-x.offsetHeight,Ae=Math.max(nt,Te+(ae?Re:0)+ie+W),Ge=oe+Ae;l.style.height=Ge+"px"}else{const ae=_.length>0&&p===_[0].ref.current;l.style.top="0px";const Ae=Math.max(we,K+x.offsetTop+(ae?pe:0)+Te)+le;l.style.height=Ae+"px",x.scrollTop=oe-we+x.offsetTop}l.style.margin=`${qe}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,p,w,a.dir,n]);be(()=>j(),[j]);const[R,T]=c.useState();be(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const E=c.useCallback(P=>{P&&v.current===!0&&(j(),b==null||b(),v.current=!1)},[j,b]);return s.jsx(px,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:s.jsx(F.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});mc.displayName=fx;var hx="SelectPopperPosition",Hn=c.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=qe,...a}=e,i=Xs(r);return s.jsx(vo,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hn.displayName=hx;var[px,So]=Tr(Yt,{}),Kn="SelectViewport",xc=c.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=_t(Kn,r),i=So(Kn,r),l=X(t,a.onViewportChange),d=c.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Qs.Slot,{scope:r,children:s.jsx(F.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:M(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const g=Math.abs(d.current-h.scrollTop);if(g>0){const v=window.innerHeight-qe*2,x=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),w=Math.max(x,p);if(w<v){const b=w+g,j=Math.min(v,b),R=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});xc.displayName=Kn;var gc="SelectGroup",[mx,xx]=Tr(gc),gx=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Et();return s.jsx(mx,{scope:r,id:o,children:s.jsx(F.div,{role:"group","aria-labelledby":o,...n,ref:t})})});gx.displayName=gc;var vc="SelectLabel",bc=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=xx(vc,r);return s.jsx(F.div,{id:o.id,...n,ref:t})});bc.displayName=vc;var Ts="SelectItem",[vx,yc]=Tr(Ts),wc=c.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,l=Ot(Ts,r),d=_t(Ts,r),u=l.value===n,[h,f]=c.useState(a??""),[m,g]=c.useState(!1),v=X(t,b=>{var j;return(j=d.itemRefCallback)==null?void 0:j.call(d,b,n,o)}),x=Et(),p=c.useRef("touch"),w=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(vx,{scope:r,value:n,disabled:o,textId:x,isSelected:u,onItemTextChange:c.useCallback(b=>{f(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Qs.ItemSlot,{scope:r,value:n,disabled:o,textValue:h,children:s.jsx(F.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:v,onFocus:M(i.onFocus,()=>g(!0)),onBlur:M(i.onBlur,()=>g(!1)),onClick:M(i.onClick,()=>{p.current!=="mouse"&&w()}),onPointerUp:M(i.onPointerUp,()=>{p.current==="mouse"&&w()}),onPointerDown:M(i.onPointerDown,b=>{p.current=b.pointerType}),onPointerMove:M(i.onPointerMove,b=>{var j;p.current=b.pointerType,o?(j=d.onItemLeave)==null||j.call(d):p.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(i.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=d.onItemLeave)==null||j.call(d))}),onKeyDown:M(i.onKeyDown,b=>{var R;((R=d.searchRef)==null?void 0:R.current)!==""&&b.key===" "||(sx.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});wc.displayName=Ts;var kr="SelectItemText",jc=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=Ot(kr,r),l=_t(kr,r),d=yc(kr,r),u=ix(kr,r),[h,f]=c.useState(null),m=X(t,w=>f(w),d.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,d.value,d.disabled)}),g=h==null?void 0:h.textContent,v=c.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:p}=u;return be(()=>(x(v),()=>p(v)),[x,p,v]),s.jsxs(s.Fragment,{children:[s.jsx(F.span,{id:d.textId,...a,ref:m}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?es.createPortal(a.children,i.valueNode):null]})});jc.displayName=kr;var Nc="SelectItemIndicator",Cc=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return yc(Nc,r).isSelected?s.jsx(F.span,{"aria-hidden":!0,...n,ref:t}):null});Cc.displayName=Nc;var Un="SelectScrollUpButton",Sc=c.forwardRef((e,t)=>{const r=_t(Un,e.__scopeSelect),n=So(Un,e.__scopeSelect),[o,a]=c.useState(!1),i=X(t,n.onScrollButtonChange);return be(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;a(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(Pc,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Sc.displayName=Un;var Bn="SelectScrollDownButton",Rc=c.forwardRef((e,t)=>{const r=_t(Bn,e.__scopeSelect),n=So(Bn,e.__scopeSelect),[o,a]=c.useState(!1),i=X(t,n.onScrollButtonChange);return be(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;a(h)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(Pc,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Rc.displayName=Bn;var Pc=c.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=_t("SelectScrollButton",r),i=c.useRef(null),l=Ys(r),d=c.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),be(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(F.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:M(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:M(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:M(o.onPointerLeave,()=>{d()})})}),bx="SelectSeparator",Ec=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(F.div,{"aria-hidden":!0,...n,ref:t})});Ec.displayName=bx;var Gn="SelectArrow",yx=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Xs(r),a=Ot(Gn,r),i=_t(Gn,r);return a.open&&i.position==="popper"?s.jsx(bo,{...o,...n,ref:t}):null});yx.displayName=Gn;function Tc(e){return e===""||e===void 0}var Ac=c.forwardRef((e,t)=>{const{value:r,...n}=e,o=c.useRef(null),a=X(t,o),i=nc(r);return c.useEffect(()=>{const l=o.current,d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[i,r]),s.jsx(rs,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});Ac.displayName="BubbleSelect";function Mc(e){const t=ve(e),r=c.useRef(""),n=c.useRef(0),o=c.useCallback(i=>{const l=r.current+i;t(l),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),a=c.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function Ic(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=wx(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const d=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function wx(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jx=oc,Oc=ic,Nx=cc,Cx=dc,Sx=uc,_c=fc,Rx=xc,Dc=bc,kc=wc,Px=jc,Ex=Cc,Lc=Sc,Fc=Rc,zc=Ec;const As=jx,Ms=Nx,Br=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Oc,{ref:n,className:V("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Cx,{asChild:!0,children:s.jsx(lt,{className:"h-4 w-4 opacity-50"})})]}));Br.displayName=Oc.displayName;const $c=c.forwardRef(({className:e,...t},r)=>s.jsx(Lc,{ref:r,className:V("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gt,{className:"h-4 w-4"})}));$c.displayName=Lc.displayName;const Vc=c.forwardRef(({className:e,...t},r)=>s.jsx(Fc,{ref:r,className:V("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(lt,{className:"h-4 w-4"})}));Vc.displayName=Fc.displayName;const Gr=c.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(Sx,{children:s.jsxs(_c,{ref:o,className:V("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx($c,{}),s.jsx(Rx,{className:V("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Vc,{})]})}));Gr.displayName=_c.displayName;const Tx=c.forwardRef(({className:e,...t},r)=>s.jsx(Dc,{ref:r,className:V("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Tx.displayName=Dc.displayName;const Je=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(kc,{ref:n,className:V("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ex,{children:s.jsx(Wi,{className:"h-4 w-4"})})}),s.jsx(Px,{children:t})]}));Je.displayName=kc.displayName;const Ax=c.forwardRef(({className:e,...t},r)=>s.jsx(zc,{ref:r,className:V("-mx-1 my-1 h-px bg-muted",e),...t}));Ax.displayName=zc.displayName;function Mx(){const[,e]=It(),{login:t,register:r}=rt(),{toast:n}=Jt(),[o,a]=c.useState({email:"",password:""}),[i,l]=c.useState({email:"",password:"",firstName:"",lastName:"",studyReason:""}),[d,u]=c.useState(!1),h=async m=>{m.preventDefault(),u(!0);try{await t(o.email,o.password),e("/dashboard"),n({title:"Accesso effettuato!",description:"Benvenuto nella tua dashboard personale"})}catch(g){n({title:"Errore di accesso",description:g instanceof Error?g.message:"Credenziali non valide",variant:"destructive"})}finally{u(!1)}},f=async m=>{m.preventDefault(),u(!0);try{await r(i),e("/dashboard"),n({title:"Registrazione completata!",description:"Benvenuto nella tua dashboard personale"})}catch(g){n({title:"Errore di registrazione",description:g instanceof Error?g.message:"Errore durante la registrazione",variant:"destructive"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen bg-warm-cream flex items-center justify-center p-4",children:s.jsxs(q,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"text-center",children:[s.jsx(ee,{className:"text-2xl font-playfair font-bold text-literary-blue",children:"PromessiSposi.io"}),s.jsx("p",{className:"text-gray-600",children:"Inizia il tuo viaggio nella letteratura italiana"})]}),s.jsx(H,{children:s.jsxs(Ws,{defaultValue:"login",className:"w-full",children:[s.jsxs(ns,{className:"grid w-full grid-cols-2",children:[s.jsx(Oe,{value:"login",children:"Accedi"}),s.jsx(Oe,{value:"register",children:"Registrati"})]}),s.jsx(_e,{value:"login",className:"space-y-4",children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"login-email",children:"Email"}),s.jsx(ue,{id:"login-email",type:"email",placeholder:"La tua email",value:o.email,onChange:m=>a(g=>({...g,email:m.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"login-password",children:"Password"}),s.jsx(ue,{id:"login-password",type:"password",placeholder:"La tua password",value:o.password,onChange:m=>a(g=>({...g,password:m.target.value})),required:!0})]}),s.jsx(U,{type:"submit",className:"w-full bg-literary-blue hover:bg-literary-blue/90",disabled:d,children:d?"Accesso in corso...":"Accedi"})]})}),s.jsx(_e,{value:"register",className:"space-y-4",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"firstName",children:"Nome"}),s.jsx(ue,{id:"firstName",placeholder:"Nome",value:i.firstName,onChange:m=>l(g=>({...g,firstName:m.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"lastName",children:"Cognome"}),s.jsx(ue,{id:"lastName",placeholder:"Cognome",value:i.lastName,onChange:m=>l(g=>({...g,lastName:m.target.value})),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"register-email",children:"Email"}),s.jsx(ue,{id:"register-email",type:"email",placeholder:"La tua email",value:i.email,onChange:m=>l(g=>({...g,email:m.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"register-password",children:"Password"}),s.jsx(ue,{id:"register-password",type:"password",placeholder:"Crea una password",value:i.password,onChange:m=>l(g=>({...g,password:m.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"studyReason",children:"Perch vuoi studiare I Promessi Sposi?"}),s.jsxs(As,{value:i.studyReason,onValueChange:m=>l(g=>({...g,studyReason:m})),children:[s.jsx(Br,{children:s.jsx(Ms,{placeholder:"Seleziona il motivo"})}),s.jsxs(Gr,{children:[s.jsx(Je,{value:"exam",children:"Ripasso per esami scolastici"}),s.jsx(Je,{value:"personal",children:"Interesse personale"}),s.jsx(Je,{value:"university",children:"Approfondimento universitario"}),s.jsx(Je,{value:"literature",children:"Passione per la letteratura"})]})]})]}),s.jsx(U,{type:"submit",className:"w-full bg-literary-blue hover:bg-literary-blue/90",disabled:d,children:d?"Registrazione...":"Inizia il tuo viaggio"})]})})]})})]})})}var Ro="Progress",Po=100,[Ix,fb]=Ce(Ro),[Ox,_x]=Ix(Ro),qc=c.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=Dx,...i}=e;(o||o===0)&&!Pa(o)&&console.error(kx(`${o}`,"Progress"));const l=Pa(o)?o:Po;n!==null&&!Ea(n,l)&&console.error(Lx(`${n}`,"Progress"));const d=Ea(n,l)?n:null,u=Is(d)?a(d,l):void 0;return s.jsx(Ox,{scope:r,value:d,max:l,children:s.jsx(F.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Is(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":Uc(d,l),"data-value":d??void 0,"data-max":l,...i,ref:t})})});qc.displayName=Ro;var Hc="ProgressIndicator",Kc=c.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=_x(Hc,r);return s.jsx(F.div,{"data-state":Uc(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});Kc.displayName=Hc;function Dx(e,t){return`${Math.round(e/t*100)}%`}function Uc(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Is(e){return typeof e=="number"}function Pa(e){return Is(e)&&!isNaN(e)&&e>0}function Ea(e,t){return Is(e)&&!isNaN(e)&&e<=t&&e>=0}function kx(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Po}\`.`}function Lx(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Po} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bc=qc,Fx=Kc;const ht=c.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Bc,{ref:n,className:V("relative h-2 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800",e),...r,children:s.jsx(Fx,{className:"h-full w-full flex-1 bg-literary-blue transition-all duration-1000 ease-in-out",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ht.displayName=Bc.displayName;var Eo="Avatar",[zx,hb]=Ce(Eo),[$x,Gc]=zx(Eo),Wc=c.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,a]=c.useState("idle");return s.jsx($x,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:s.jsx(F.span,{...n,ref:t})})});Wc.displayName=Eo;var Qc="AvatarImage",Yc=c.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...a}=e,i=Gc(Qc,r),l=Vx(n,a),d=ve(u=>{o(u),i.onImageLoadingStatusChange(u)});return be(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?s.jsx(F.img,{...a,ref:t,src:n}):null});Yc.displayName=Qc;var Xc="AvatarFallback",Jc=c.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,a=Gc(Xc,r),[i,l]=c.useState(n===void 0);return c.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),i&&a.imageLoadingStatus!=="loaded"?s.jsx(F.span,{...o,ref:t}):null});Jc.displayName=Xc;function Ta(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Vx(e,{referrerPolicy:t,crossOrigin:r}){const n=Hx(),o=c.useRef(null),a=n?(o.current||(o.current=new window.Image),o.current):null,[i,l]=c.useState(()=>Ta(a,e));return be(()=>{l(Ta(a,e))},[a,e]),be(()=>{const d=f=>()=>{l(f)};if(!a)return;const u=d("loaded"),h=d("error");return a.addEventListener("load",u),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,r,t]),i}function qx(){return()=>{}}function Hx(){return c.useSyncExternalStore(qx,()=>!0,()=>!1)}var Zc=Wc,ed=Yc,td=Jc;const rd=c.forwardRef(({className:e,...t},r)=>s.jsx(Zc,{ref:r,className:V("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));rd.displayName=Zc.displayName;const Kx=c.forwardRef(({className:e,...t},r)=>s.jsx(ed,{ref:r,className:V("aspect-square h-full w-full",e),...t}));Kx.displayName=ed.displayName;const sd=c.forwardRef(({className:e,...t},r)=>s.jsx(td,{ref:r,className:V("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));sd.displayName=td.displayName;var Wn=["Enter"," "],Ux=["ArrowDown","PageUp","Home"],nd=["ArrowUp","PageDown","End"],Bx=[...Ux,...nd],Gx={ltr:[...Wn,"ArrowRight"],rtl:[...Wn,"ArrowLeft"]},Wx={ltr:["ArrowLeft"],rtl:["ArrowRight"]},as="Menu",[Wr,Qx,Yx]=Fs(as),[Zt,od]=Ce(as,[Yx,Rr,Er]),Js=Rr(),ad=Er(),[Xx,er]=Zt(as),[Jx,is]=Zt(as),id=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,l=Js(t),[d,u]=c.useState(null),h=c.useRef(!1),f=ve(a),m=Pr(o);return c.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(El,{...l,children:s.jsx(Xx,{scope:t,open:r,onOpenChange:f,content:d,onContentChange:u,children:s.jsx(Jx,{scope:t,onClose:c.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:i,children:n})})})};id.displayName=as;var Zx="MenuAnchor",To=c.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Js(r);return s.jsx(go,{...o,...n,ref:t})});To.displayName=Zx;var Ao="MenuPortal",[eg,ld]=Zt(Ao,{forceMount:void 0}),cd=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=er(Ao,t);return s.jsx(eg,{scope:t,forceMount:r,children:s.jsx(ke,{present:r||a.open,children:s.jsx(Qn,{asChild:!0,container:o,children:n})})})};cd.displayName=Ao;var $e="MenuContent",[tg,Mo]=Zt($e),dd=c.forwardRef((e,t)=>{const r=ld($e,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=er($e,e.__scopeMenu),i=is($e,e.__scopeMenu);return s.jsx(Wr.Provider,{scope:e.__scopeMenu,children:s.jsx(ke,{present:n||a.open,children:s.jsx(Wr.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(rg,{...o,ref:t}):s.jsx(sg,{...o,ref:t})})})})}),rg=c.forwardRef((e,t)=>{const r=er($e,e.__scopeMenu),n=c.useRef(null),o=X(t,n);return c.useEffect(()=>{const a=n.current;if(a)return Ka(a)},[]),s.jsx(Io,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:M(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),sg=c.forwardRef((e,t)=>{const r=er($e,e.__scopeMenu);return s.jsx(Io,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ng=js("MenuContent.ScrollLock"),Io=c.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...x}=e,p=er($e,r),w=is($e,r),b=Js(r),j=ad(r),R=Qx(r),[T,E]=c.useState(null),P=c.useRef(null),S=X(t,P,p.onContentChange),C=c.useRef(0),N=c.useRef(""),_=c.useRef(0),A=c.useRef(null),B=c.useRef("right"),I=c.useRef(0),K=v?Ba:c.Fragment,k=v?{as:ng,allowPinchZoom:!0}:void 0,W=O=>{var z,oe;const J=N.current+O,Z=R().filter(le=>!le.disabled),pe=document.activeElement,Re=(z=Z.find(le=>le.ref.current===pe))==null?void 0:z.textValue,we=Z.map(le=>le.textValue),nt=xg(we,J,Re),Te=(oe=Z.find(le=>le.textValue===nt))==null?void 0:oe.ref.current;(function le(ne){N.current=ne,window.clearTimeout(C.current),ne!==""&&(C.current=window.setTimeout(()=>le(""),1e3))})(J),Te&&setTimeout(()=>Te.focus())};c.useEffect(()=>()=>window.clearTimeout(C.current),[]),Ua();const L=c.useCallback(O=>{var Z,pe;return B.current===((Z=A.current)==null?void 0:Z.side)&&vg(O,(pe=A.current)==null?void 0:pe.area)},[]);return s.jsx(tg,{scope:r,searchRef:N,onItemEnter:c.useCallback(O=>{L(O)&&O.preventDefault()},[L]),onItemLeave:c.useCallback(O=>{var J;L(O)||((J=P.current)==null||J.focus(),E(null))},[L]),onTriggerLeave:c.useCallback(O=>{L(O)&&O.preventDefault()},[L]),pointerGraceTimerRef:_,onPointerGraceIntentChange:c.useCallback(O=>{A.current=O},[]),children:s.jsx(K,{...k,children:s.jsx(Ga,{asChild:!0,trapped:o,onMountAutoFocus:M(a,O=>{var J;O.preventDefault(),(J=P.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(Yn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:s.jsx(wo,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:E,onEntryFocus:M(d,O=>{w.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(vo,{role:"menu","aria-orientation":"vertical","data-state":Rd(p.open),"data-radix-menu-content":"",dir:w.dir,...b,...x,ref:S,style:{outline:"none",...x.style},onKeyDown:M(x.onKeyDown,O=>{const Z=O.target.closest("[data-radix-menu-content]")===O.currentTarget,pe=O.ctrlKey||O.altKey||O.metaKey,Re=O.key.length===1;Z&&(O.key==="Tab"&&O.preventDefault(),!pe&&Re&&W(O.key));const we=P.current;if(O.target!==we||!Bx.includes(O.key))return;O.preventDefault();const Te=R().filter(z=>!z.disabled).map(z=>z.ref.current);nd.includes(O.key)&&Te.reverse(),pg(Te)}),onBlur:M(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(C.current),N.current="")}),onPointerMove:M(e.onPointerMove,Qr(O=>{const J=O.target,Z=I.current!==O.clientX;if(O.currentTarget.contains(J)&&Z){const pe=O.clientX>I.current?"right":"left";B.current=pe,I.current=O.clientX}}))})})})})})})});dd.displayName=$e;var og="MenuGroup",Oo=c.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(F.div,{role:"group",...n,ref:t})});Oo.displayName=og;var ag="MenuLabel",ud=c.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(F.div,{...n,ref:t})});ud.displayName=ag;var Os="MenuItem",Aa="menu.itemSelect",Zs=c.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,a=c.useRef(null),i=is(Os,e.__scopeMenu),l=Mo(Os,e.__scopeMenu),d=X(t,a),u=c.useRef(!1),h=()=>{const f=a.current;if(!r&&f){const m=new CustomEvent(Aa,{bubbles:!0,cancelable:!0});f.addEventListener(Aa,g=>n==null?void 0:n(g),{once:!0}),Ha(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(fd,{...o,ref:d,disabled:r,onClick:M(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:M(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:M(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||Wn.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zs.displayName=Os;var fd=c.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,i=Mo(Os,r),l=ad(r),d=c.useRef(null),u=X(t,d),[h,f]=c.useState(!1),[m,g]=c.useState("");return c.useEffect(()=>{const v=d.current;v&&g((v.textContent??"").trim())},[a.children]),s.jsx(Wr.ItemSlot,{scope:r,disabled:n,textValue:o??m,children:s.jsx(jo,{asChild:!0,...l,focusable:!n,children:s.jsx(F.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:M(e.onPointerMove,Qr(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(e.onPointerLeave,Qr(v=>i.onItemLeave(v))),onFocus:M(e.onFocus,()=>f(!0)),onBlur:M(e.onBlur,()=>f(!1))})})})}),ig="MenuCheckboxItem",hd=c.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(vd,{scope:e.__scopeMenu,checked:r,children:s.jsx(Zs,{role:"menuitemcheckbox","aria-checked":_s(r)?"mixed":r,...o,ref:t,"data-state":Do(r),onSelect:M(o.onSelect,()=>n==null?void 0:n(_s(r)?!0:!r),{checkForDefaultPrevented:!1})})})});hd.displayName=ig;var pd="MenuRadioGroup",[lg,cg]=Zt(pd,{value:void 0,onValueChange:()=>{}}),md=c.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,a=ve(n);return s.jsx(lg,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(Oo,{...o,ref:t})})});md.displayName=pd;var xd="MenuRadioItem",gd=c.forwardRef((e,t)=>{const{value:r,...n}=e,o=cg(xd,e.__scopeMenu),a=r===o.value;return s.jsx(vd,{scope:e.__scopeMenu,checked:a,children:s.jsx(Zs,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Do(a),onSelect:M(n.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,r)},{checkForDefaultPrevented:!1})})})});gd.displayName=xd;var _o="MenuItemIndicator",[vd,dg]=Zt(_o,{checked:!1}),bd=c.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,a=dg(_o,r);return s.jsx(ke,{present:n||_s(a.checked)||a.checked===!0,children:s.jsx(F.span,{...o,ref:t,"data-state":Do(a.checked)})})});bd.displayName=_o;var ug="MenuSeparator",yd=c.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(F.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});yd.displayName=ug;var fg="MenuArrow",wd=c.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Js(r);return s.jsx(bo,{...o,...n,ref:t})});wd.displayName=fg;var hg="MenuSub",[pb,jd]=Zt(hg),Lr="MenuSubTrigger",Nd=c.forwardRef((e,t)=>{const r=er(Lr,e.__scopeMenu),n=is(Lr,e.__scopeMenu),o=jd(Lr,e.__scopeMenu),a=Mo(Lr,e.__scopeMenu),i=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=a,u={__scopeMenu:e.__scopeMenu},h=c.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return c.useEffect(()=>h,[h]),c.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),s.jsx(To,{asChild:!0,...u,children:s.jsx(fd,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Rd(r.open),...e,ref:Wa(t,o.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:M(e.onPointerMove,Qr(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:M(e.onPointerLeave,Qr(f=>{var g,v;h();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const x=(v=r.content)==null?void 0:v.dataset.side,p=x==="right",w=p?-5:5,b=m[p?"left":"right"],j=m[p?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:b,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:b,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:M(e.onKeyDown,f=>{var g;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||Gx[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});Nd.displayName=Lr;var Cd="MenuSubContent",Sd=c.forwardRef((e,t)=>{const r=ld($e,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=er($e,e.__scopeMenu),i=is($e,e.__scopeMenu),l=jd(Cd,e.__scopeMenu),d=c.useRef(null),u=X(t,d);return s.jsx(Wr.Provider,{scope:e.__scopeMenu,children:s.jsx(ke,{present:n||a.open,children:s.jsx(Wr.Slot,{scope:e.__scopeMenu,children:s.jsx(Io,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:M(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:M(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:M(e.onKeyDown,h=>{var g;const f=h.currentTarget.contains(h.target),m=Wx[i.dir].includes(h.key);f&&m&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});Sd.displayName=Cd;function Rd(e){return e?"open":"closed"}function _s(e){return e==="indeterminate"}function Do(e){return _s(e)?"indeterminate":e?"checked":"unchecked"}function pg(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function mg(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function xg(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=mg(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const d=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function gg(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,d=t[a].y,u=t[i].x,h=t[i].y;d>n!=h>n&&r<(u-l)*(n-d)/(h-d)+l&&(o=!o)}return o}function vg(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return gg(r,t)}function Qr(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bg=id,yg=To,wg=cd,jg=dd,Ng=Oo,Cg=ud,Sg=Zs,Rg=hd,Pg=md,Eg=gd,Tg=bd,Ag=yd,Mg=wd,Ig=Nd,Og=Sd,ko="DropdownMenu",[_g,mb]=Ce(ko,[od]),Se=od(),[Dg,Pd]=_g(ko),Ed=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,d=Se(t),u=c.useRef(null),[h=!1,f]=Pt({prop:o,defaultProp:a,onChange:i});return s.jsx(Dg,{scope:t,triggerId:Et(),triggerRef:u,contentId:Et(),open:h,onOpenChange:f,onOpenToggle:c.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(bg,{...d,open:h,onOpenChange:f,dir:n,modal:l,children:r})})};Ed.displayName=ko;var Td="DropdownMenuTrigger",Ad=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=Pd(Td,r),i=Se(r);return s.jsx(yg,{asChild:!0,...i,children:s.jsx(F.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Wa(t,a.triggerRef),onPointerDown:M(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:M(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ad.displayName=Td;var kg="DropdownMenuPortal",Md=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Se(t);return s.jsx(wg,{...n,...r})};Md.displayName=kg;var Id="DropdownMenuContent",Od=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Pd(Id,r),a=Se(r),i=c.useRef(!1);return s.jsx(jg,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:M(e.onCloseAutoFocus,l=>{var d;i.current||(d=o.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:M(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!o.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Od.displayName=Id;var Lg="DropdownMenuGroup",Fg=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Ng,{...o,...n,ref:t})});Fg.displayName=Lg;var zg="DropdownMenuLabel",_d=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Cg,{...o,...n,ref:t})});_d.displayName=zg;var $g="DropdownMenuItem",Dd=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Sg,{...o,...n,ref:t})});Dd.displayName=$g;var Vg="DropdownMenuCheckboxItem",kd=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Rg,{...o,...n,ref:t})});kd.displayName=Vg;var qg="DropdownMenuRadioGroup",Hg=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Pg,{...o,...n,ref:t})});Hg.displayName=qg;var Kg="DropdownMenuRadioItem",Ld=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Eg,{...o,...n,ref:t})});Ld.displayName=Kg;var Ug="DropdownMenuItemIndicator",Fd=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Tg,{...o,...n,ref:t})});Fd.displayName=Ug;var Bg="DropdownMenuSeparator",zd=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Ag,{...o,...n,ref:t})});zd.displayName=Bg;var Gg="DropdownMenuArrow",Wg=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Mg,{...o,...n,ref:t})});Wg.displayName=Gg;var Qg="DropdownMenuSubTrigger",$d=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Ig,{...o,...n,ref:t})});$d.displayName=Qg;var Yg="DropdownMenuSubContent",Vd=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Se(r);return s.jsx(Og,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vd.displayName=Yg;var Xg=Ed,Jg=Ad,Zg=Md,qd=Od,Hd=_d,Kd=Dd,Ud=kd,Bd=Ld,Gd=Fd,Wd=zd,Qd=$d,Yd=Vd;const ev=Xg,tv=Jg,rv=c.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(Qd,{ref:o,className:V("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(Rh,{className:"ml-auto"})]}));rv.displayName=Qd.displayName;const sv=c.forwardRef(({className:e,...t},r)=>s.jsx(Yd,{ref:r,className:V("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));sv.displayName=Yd.displayName;const Xd=c.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Zg,{children:s.jsx(qd,{ref:n,sideOffset:t,className:V("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Xd.displayName=qd.displayName;const Fr=c.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Kd,{ref:n,className:V("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Fr.displayName=Kd.displayName;const nv=c.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(Ud,{ref:o,className:V("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Gd,{children:s.jsx(Wi,{className:"h-4 w-4"})})}),t]}));nv.displayName=Ud.displayName;const ov=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Bd,{ref:n,className:V("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Gd,{children:s.jsx(Qi,{className:"h-2 w-2 fill-current"})})}),t]}));ov.displayName=Bd.displayName;const av=c.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Hd,{ref:n,className:V("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));av.displayName=Hd.displayName;const iv=c.forwardRef(({className:e,...t},r)=>s.jsx(Wd,{ref:r,className:V("-mx-1 my-1 h-px bg-muted",e),...t}));iv.displayName=Wd.displayName;function nr(){var o,a;const{user:e,logout:t}=rt(),[r,n]=It();return s.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50 modern-shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-18",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ds,{href:"/",children:s.jsx("h1",{className:"text-3xl font-avenir font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent cursor-pointer hover:scale-105 transition-transform duration-200",children:"PromessiSposi.io"})}),s.jsx("span",{className:"ml-3 text-xs bg-gradient-to-r from-green-400 to-blue-500 text-white px-3 py-1.5 rounded-full font-medium shadow-sm",children:"Beta"})]}),e&&s.jsxs("nav",{className:"hidden md:flex space-x-8",children:[s.jsx(ds,{href:"/reading",children:s.jsx("a",{className:`transition-colors ${r.startsWith("/reading")?"text-literary-blue":"text-gray-700 hover:text-literary-blue"}`,children:"Capitoli"})}),s.jsx(ds,{href:"/dashboard",children:s.jsx("a",{className:`transition-colors ${r==="/dashboard"?"text-literary-blue":"text-gray-700 hover:text-literary-blue"}`,children:"Progressi"})}),s.jsx("a",{href:"#",className:"text-gray-700 hover:text-literary-blue transition-colors",children:"Glossario"})]}),s.jsx("div",{className:"flex items-center space-x-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center bg-gradient-to-r from-yellow-400/20 to-orange-500/20 backdrop-blur-sm px-4 py-2.5 rounded-full border border-yellow-300/30 shadow-sm",children:[s.jsx("i",{className:"fas fa-coins text-yellow-600 mr-2"}),s.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[e.points||0," Punti Edo"]})]}),s.jsxs(ev,{children:[s.jsx(tv,{asChild:!0,children:s.jsx(U,{variant:"ghost",className:"p-2 rounded-full hover:bg-gray-100/50",children:s.jsx(rd,{className:"h-10 w-10 shadow-md",children:s.jsxs(sd,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold text-sm",children:[(o=e.firstName)==null?void 0:o[0],(a=e.lastName)==null?void 0:a[0]]})})})}),s.jsxs(Xd,{align:"end",className:"modern-card min-w-[200px]",children:[s.jsxs(Fr,{onClick:()=>n("/dashboard"),className:"p-3 hover:bg-blue-50 rounded-lg",children:[s.jsx("i",{className:"fas fa-chart-line mr-3 text-blue-500"}),"Dashboard"]}),s.jsxs(Fr,{onClick:()=>n("/teacher"),className:"p-3 hover:bg-green-50 rounded-lg",children:[s.jsx("i",{className:"fas fa-chalkboard-teacher mr-3 text-green-500"}),"Insegnante"]}),s.jsxs(Fr,{onClick:()=>n("/admin"),className:"p-3 hover:bg-purple-50 rounded-lg",children:[s.jsx("i",{className:"fas fa-cog mr-3 text-purple-500"}),"Admin"]}),s.jsxs(Fr,{onClick:async()=>{await t(),n("/")},className:"p-3 hover:bg-red-50 rounded-lg text-red-600",children:[s.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]})]})]}):s.jsx(ds,{href:"/auth",children:s.jsx(U,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold px-6 py-2.5 rounded-full shadow-lg hover:shadow-xl transition-all duration-200",children:"Accedi"})})})]})})})}const bs=$u,vn=Vu,lv=zu,Jd=c.forwardRef(({className:e,...t},r)=>s.jsx(Qa,{ref:r,className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Jd.displayName=Qa.displayName;const $r=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(lv,{children:[s.jsx(Jd,{}),s.jsxs(Ya,{ref:n,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Fu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Yi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$r.displayName=Ya.displayName;const Vr=({className:e,...t})=>s.jsx("div",{className:V("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vr.displayName="DialogHeader";const ys=({className:e,...t})=>s.jsx("div",{className:V("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ys.displayName="DialogFooter";const qr=c.forwardRef(({className:e,...t},r)=>s.jsx(Xa,{ref:r,className:V("text-lg font-semibold leading-none tracking-tight",e),...t}));qr.displayName=Xa.displayName;const cv=c.forwardRef(({className:e,...t},r)=>s.jsx(Ja,{ref:r,className:V("text-sm text-muted-foreground",e),...t}));cv.displayName=Ja.displayName;function dv({isOpen:e,onClose:t,term:r}){const{data:n,isLoading:o}=fe({queryKey:[`/api/glossary/${encodeURIComponent(r)}`],enabled:e&&!!r});return s.jsx(bs,{open:e,onOpenChange:t,children:s.jsxs($r,{className:"max-w-lg",children:[s.jsx(Vr,{children:s.jsx(qr,{className:"font-playfair text-literary-blue",children:r})}),s.jsx("div",{className:"space-y-4",children:o?s.jsx("div",{className:"text-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-literary-blue mx-auto"})}):n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-gray-700 leading-relaxed",children:n.definition}),n.context&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("strong",{className:"text-sm text-gray-600",children:"Contesto:"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:n.context})]})]}):s.jsx("div",{className:"text-gray-600",children:"Definizione non disponibile per questo termine."})}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsxs(U,{variant:"ghost",className:"text-literary-blue",children:[s.jsx("i",{className:"fas fa-bookmark mr-2"}),"Salva nel glossario"]}),s.jsx(U,{onClick:t,className:"bg-literary-blue hover:bg-literary-blue/90",children:"Chiudi"})]})]})})}var Lo="Radio",[uv,Zd]=Ce(Lo),[fv,hv]=uv(Lo),eu=c.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:i,value:l="on",onCheck:d,form:u,...h}=e,[f,m]=c.useState(null),g=X(t,p=>m(p)),v=c.useRef(!1),x=f?u||!!f.closest("form"):!0;return s.jsxs(fv,{scope:r,checked:o,disabled:i,children:[s.jsx(F.button,{type:"button",role:"radio","aria-checked":o,"data-state":su(o),"data-disabled":i?"":void 0,disabled:i,value:l,...h,ref:g,onClick:M(e.onClick,p=>{o||d==null||d(),x&&(v.current=p.isPropagationStopped(),v.current||p.stopPropagation())})}),x&&s.jsx(pv,{control:f,bubbles:!v.current,name:n,value:l,checked:o,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});eu.displayName=Lo;var tu="RadioIndicator",ru=c.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=hv(tu,r);return s.jsx(ke,{present:n||a.checked,children:s.jsx(F.span,{"data-state":su(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});ru.displayName=tu;var pv=e=>{const{control:t,checked:r,bubbles:n=!0,...o}=e,a=c.useRef(null),i=nc(r),l=vl(t);return c.useEffect(()=>{const d=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const m=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(m)}},[i,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function su(e){return e?"checked":"unchecked"}var mv=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fo="RadioGroup",[xv,xb]=Ce(Fo,[Er,Zd]),nu=Er(),ou=Zd(),[gv,vv]=xv(Fo),au=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:i=!1,disabled:l=!1,orientation:d,dir:u,loop:h=!0,onValueChange:f,...m}=e,g=nu(r),v=Pr(u),[x,p]=Pt({prop:a,defaultProp:o,onChange:f});return s.jsx(gv,{scope:r,name:n,required:i,disabled:l,value:x,onValueChange:p,children:s.jsx(wo,{asChild:!0,...g,orientation:d,dir:v,loop:h,children:s.jsx(F.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":l?"":void 0,dir:v,...m,ref:t})})})});au.displayName=Fo;var iu="RadioGroupItem",lu=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=vv(iu,r),i=a.disabled||n,l=nu(r),d=ou(r),u=c.useRef(null),h=X(t,u),f=a.value===o.value,m=c.useRef(!1);return c.useEffect(()=>{const g=x=>{mv.includes(x.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),s.jsx(jo,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(eu,{disabled:i,required:a.required,checked:f,...d,...o,name:a.name,ref:h,onCheck:()=>a.onValueChange(o.value),onKeyDown:M(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:M(o.onFocus,()=>{var g;m.current&&((g=u.current)==null||g.click())})})})});lu.displayName=iu;var bv="RadioGroupIndicator",cu=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=ou(r);return s.jsx(ru,{...o,...n,ref:t})});cu.displayName=bv;var du=au,uu=lu,yv=cu;const fu=c.forwardRef(({className:e,...t},r)=>s.jsx(du,{className:V("grid gap-2",e),...t,ref:r}));fu.displayName=du.displayName;const hu=c.forwardRef(({className:e,...t},r)=>s.jsx(uu,{ref:r,className:V("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(yv,{className:"flex items-center justify-center",children:s.jsx(Qi,{className:"h-2.5 w-2.5 fill-current text-current"})})}));hu.displayName=uu.displayName;function wv({quizzes:e,chapterId:t}){const[r,n]=c.useState(0),[o,a]=c.useState(null),[i,l]=c.useState(!1),[d,u]=c.useState({}),{user:h}=rt(),{toast:f}=Jt(),m=Xt(),g=me({mutationFn:async w=>await xe("POST","/api/quiz-results",w),onSuccess:w=>{m.invalidateQueries({queryKey:["/api/users",h==null?void 0:h.id,"progress"]}),w.ok&&f({title:w.isCorrect?"Risposta corretta!":"Risposta sbagliata",description:w.isCorrect?`Hai guadagnato ${w.pointsEarned} Punti Edo!`:"Non preoccuparti, continua a studiare!"})}});if(!e||e.length===0)return s.jsx(q,{children:s.jsx(H,{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Nessun quiz disponibile per questo capitolo."})})});const v=e[r],x=async()=>{if(o===null||!h)return;const w=o===v.correctAnswer,b={userId:h.id,quizId:v.id,selectedAnswer:o,isCorrect:w,pointsEarned:w?v.points:0};await g.mutateAsync(b),u(j=>({...j,[v.id]:w})),l(!0)},p=()=>{r<e.length-1&&(n(w=>w+1),a(null),l(!1))};return s.jsxs(q,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-edo-gold/10 p-3 rounded-full mr-4",children:s.jsx("i",{className:"fas fa-question-circle text-edo-gold text-xl"})}),s.jsxs("div",{children:[s.jsx(ee,{className:"font-playfair text-literary-blue",children:"Quiz di Comprensione"}),s.jsx("p",{className:"text-gray-600",children:"Verifica la tua comprensione del capitolo"})]})]})}),s.jsxs(H,{className:"space-y-6",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold mb-3",children:[r+1,". ",v.question]}),s.jsx(fu,{value:o==null?void 0:o.toString(),onValueChange:w=>a(parseInt(w)),disabled:i,children:v.options.map((w,b)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hu,{value:b.toString(),id:`option-${b}`}),s.jsxs(te,{htmlFor:`option-${b}`,className:`flex-1 p-3 rounded-lg border cursor-pointer transition-colors ${i&&b===v.correctAnswer?"bg-green-50 border-green-200":i&&o===b&&b!==v.correctAnswer?"bg-red-50 border-red-200":"hover:bg-gray-50"}`,children:[w,i&&b===v.correctAnswer&&s.jsx("i",{className:"fas fa-check-circle text-green-500 ml-auto"})]})]},b))}),i&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Spiegazione:"})," ",v.explanation]})})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Domanda ",r+1," di ",e.length]}),i?r<e.length-1?s.jsx(U,{onClick:p,className:"bg-literary-blue hover:bg-literary-blue/90",children:"Prossima domanda"}):s.jsx("div",{className:"text-sm font-semibold text-green-600",children:"Quiz completato!"}):s.jsx(U,{onClick:x,disabled:o===null||g.isPending,className:"bg-literary-blue hover:bg-literary-blue/90",children:g.isPending?"Verifica...":"Verifica risposta"})]})]})]})}function jv(){const{user:e}=rt(),{data:t,isLoading:r}=fe({queryKey:["/api/users",e==null?void 0:e.id,"progress"],enabled:!!e});if(r)return s.jsx(q,{children:s.jsx(H,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-2 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-2 bg-gray-200 rounded"})]})})});const n=(t==null?void 0:t.filter(u=>u.isCompleted).length)||0,o=38,a=12,i=15,l=n/o*100,d=a/i*100;return s.jsxs(q,{children:[s.jsx(re,{children:s.jsx(ee,{className:"font-playfair text-literary-blue",children:"I tuoi progressi"})}),s.jsxs(H,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Capitoli completati"}),s.jsxs("span",{className:"font-semibold",children:[n,"/",o]})]}),s.jsx(ht,{value:l,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Quiz completati"}),s.jsxs("span",{className:"font-semibold",children:[a,"/",i]})]}),s.jsx(ht,{value:d,className:"h-2"})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Livello attuale"}),s.jsx("span",{className:"bg-edo-gold text-white px-3 py-1 rounded-full text-sm font-semibold",children:(e==null?void 0:e.level)||"Novizio"})]})})]})]})}function Nv({context:e}){return s.jsxs(q,{children:[s.jsx(re,{children:s.jsx(ee,{className:"font-playfair text-literary-blue",children:"Contesto Storico"})}),s.jsxs(H,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg",children:[s.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"XVII Secolo"}),s.jsx("p",{className:"text-sm text-amber-700",children:"L'azione si svolge in Lombardia tra il 1628 e il 1630, durante la dominazione spagnola."})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Territorio"}),s.jsx("p",{className:"text-sm text-blue-700",children:"La zona del lago di Como era caratterizzata da piccoli borghi e un'economia agricola."})]}),e&&s.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-lg",children:[s.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"Approfondimento"}),s.jsx("p",{className:"text-sm text-purple-700",children:e})]})]}),s.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",alt:"Mappa storica della Lombardia del XVII secolo",className:"w-full h-40 object-cover rounded-lg mb-2"}),s.jsxs(U,{variant:"ghost",className:"text-literary-blue",children:[s.jsx("i",{className:"fas fa-expand-arrows-alt mr-2"}),"Esplora mappa interattiva"]})]})]})]})}function Cv(){const{user:e}=rt(),{data:t,isLoading:r}=fe({queryKey:["/api/users",e==null?void 0:e.id,"achievements"],enabled:!!e});if(r)return s.jsx(q,{children:s.jsx(H,{className:"p-6",children:s.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(o=>s.jsxs("div",{className:"flex items-center p-3 bg-gray-100 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full mr-3"}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},o))})})});const n=[{name:"Primo Capitolo",description:"Completato oggi",icon:"fas fa-book",color:"green"},{name:"Quiz Master",description:"10 quiz perfetti",icon:"fas fa-star",color:"edo-gold"},{name:"Studente Costante",description:"7 giorni di fila",icon:"fas fa-fire",color:"purple"}];return s.jsxs(q,{children:[s.jsx(re,{children:s.jsx(ee,{className:"font-playfair text-literary-blue",children:"Ultimi Traguardi"})}),s.jsx(H,{className:"space-y-3",children:n.map((o,a)=>s.jsxs("div",{className:`flex items-center p-3 bg-${o.color}-50 rounded-lg`,children:[s.jsx("div",{className:`bg-${o.color==="edo-gold"?"edo-gold":o.color==="green"?"green-500":"purple-500"} text-white p-2 rounded-full mr-3`,children:s.jsx("i",{className:`${o.icon} text-sm`})}),s.jsxs("div",{children:[s.jsx("div",{className:`font-semibold ${o.color==="edo-gold"?"text-edo-gold":o.color==="green"?"text-green-800":"text-purple-800"}`,children:o.name}),s.jsx("div",{className:`text-xs ${o.color==="edo-gold"?"text-gray-600":o.color==="green"?"text-green-600":"text-purple-600"}`,children:o.description})]})]},a))})]})}function Sv({progress:e,timeSpent:t,isAutoSaving:r,chapterTitle:n}){const{toast:o}=Jt(),[a,i]=c.useState(null);c.useEffect(()=>{r&&(i(new Date),o({title:"Progresso salvato",description:`${Math.floor(e)}% di ${n} completato`,duration:2e3}))},[r,e,n,o]);const l=d=>{if(d<60)return`${d} min`;const u=Math.floor(d/60),h=d%60;return`${u}h ${h}m`};return s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsx(q,{className:"bg-white/95 backdrop-blur-sm shadow-lg border border-blue-200/50 max-w-xs",children:s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-800",children:"Progresso Lettura"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[r&&s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-gray-500",children:r?"Salvando...":"Salvato"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[s.jsx("span",{children:"Completamento"}),s.jsxs("span",{className:"font-bold text-blue-600",children:[Math.floor(e),"%"]})]}),s.jsx(ht,{value:e,className:"h-2 bg-gray-100"})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Tempo: ",l(t)]}),a&&s.jsxs("span",{children:["Ultimo salvataggio: ",a.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]}),e>=90&&s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white p-2 rounded-lg text-xs text-center font-medium",children:" Capitolo completato!"})]})})})})}const Rv=[{id:1,term:"lago di Como",definition:"Lago della Lombardia, uno dei pi grandi d'Italia, dove  ambientata la storia de I Promessi Sposi.",context:"Ambientazione geografica principale del romanzo",chapterId:1},{id:2,term:"promontorio",definition:"Sporgenza di terra che si protende nel mare o nel lago.",context:"Elemento geografico che caratterizza il paesaggio del lago di Como",chapterId:1},{id:3,term:"Adda",definition:"Fiume che attraversa la Lombardia, emissario del lago di Como.",context:"Il lago si trasforma in fiume Adda per poi ritornare lago",chapterId:1},{id:4,term:"Resegone",definition:"Monte caratteristico della zona lecchese, chiamato cos per la sua forma dentellata che ricorda una sega.",context:"Uno dei due monti che caratterizzano il paesaggio descritto da Manzoni",chapterId:1}];function Pv(){const{chapterId:e}=ci(),[,t]=It(),{user:r}=rt(),[n,o]=c.useState(""),[a,i]=c.useState(!1),[l,d]=c.useState(0),[u,h]=c.useState(0),f=c.useRef(Date.now()),m=Xt(),g=e?parseInt(e):1,{data:v,isLoading:x}=fe({queryKey:[`/api/chapters/${g}`],enabled:!!r&&!!g}),{data:p,isLoading:w}=fe({queryKey:[`/api/chapters/${g}/quizzes`],enabled:!!r&&!!g}),{data:b}=fe({queryKey:[`/api/users/${r==null?void 0:r.id}/progress`],enabled:!!r}),j=me({mutationFn:E=>xe("POST",`/api/users/${r==null?void 0:r.id}/progress`,E),onSuccess:()=>{m.invalidateQueries({queryKey:[`/api/users/${r==null?void 0:r.id}/progress`]}),m.invalidateQueries({queryKey:[`/api/users/${r==null?void 0:r.id}/stats`]})}});c.useEffect(()=>{if(!r){t("/auth");return}const E=b==null?void 0:b.find(P=>P.chapterId===g);E?(d(E.readingProgress||0),h(E.timeSpent||0)):(d(0),h(0)),f.current=Date.now()},[r,t,g,b]),c.useEffect(()=>{const E=setInterval(()=>{if(r&&g&&l>0){const P=Date.now(),S=Math.floor((P-f.current)/1e3/60);j.mutate({chapterId:g,readingProgress:l,timeSpent:S,isCompleted:l>=90})}},3e4);return()=>clearInterval(E)},[r,g,l,j]),c.useEffect(()=>{const E=()=>{const P=window.innerHeight,S=document.documentElement.scrollHeight,C=window.scrollY,N=Math.min(100,Math.max(0,C/(S-P)*100));d(Math.floor(N))};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]),c.useEffect(()=>{const E=()=>{if(r&&g&&l>0){const P=Date.now(),S=Math.floor((P-f.current)/1e3/60);navigator.sendBeacon(`/api/users/${r.id}/progress`,JSON.stringify({chapterId:g,readingProgress:l,timeSpent:S,isCompleted:l>=90}))}};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[r,g,l]);const R=E=>{o(E),i(!0)},T=E=>{const P=Rv.map(C=>C.term);let S=E;return P.forEach(C=>{const N=new RegExp(`\\b${C}\\b`,"gi");S=S.replace(N,_=>`<span class="tooltip-trigger ${Math.random()>.5?"literary-blue":"parchment"}" data-term="${_}">${_}</span>`)}),S};return c.useEffect(()=>{const E=document.querySelectorAll("[data-term]");return E.forEach(P=>{P.addEventListener("click",S=>{const C=S.target.getAttribute("data-term");C&&R(C)})}),()=>{E.forEach(P=>{P.removeEventListener("click",()=>{})})}},[v]),r?x||w?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx(nr,{}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]}):v?v?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx(nr,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs(q,{className:"modern-card mb-8 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-4xl font-playfair font-bold mb-2",children:["Capitolo ",v.number]}),s.jsx("p",{className:"text-blue-100 text-lg",children:v.title})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm px-4 py-3 rounded-full border border-white/30",children:[s.jsx("i",{className:"fas fa-check-circle text-green-300 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-white",children:l===100?"Completato":"In corso"})]})})]})}),s.jsx(H,{className:"p-6",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-3",children:[s.jsx("span",{className:"font-medium",children:"Progresso lettura"}),s.jsxs("span",{className:"font-bold text-blue-600",children:[l,"%"]})]}),s.jsx(ht,{value:l,className:"h-3 bg-gray-200"})]})})]}),s.jsx(q,{className:"modern-card mb-8",children:s.jsxs(H,{className:"p-10",children:[s.jsx("div",{className:"font-crimson text-lg leading-relaxed space-y-8 text-gray-800",children:v.content.split(`

`).map((E,P)=>s.jsx("p",{className:"first-letter:text-6xl first-letter:font-playfair first-letter:text-blue-600 first-letter:float-left first-letter:mr-2 first-letter:mt-2",dangerouslySetInnerHTML:{__html:T(E)}},P))}),s.jsxs("div",{className:"flex justify-between items-center mt-12 pt-8 border-t border-gray-200",children:[s.jsxs(U,{variant:"ghost",className:"text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-full font-medium",children:[s.jsx("i",{className:"fas fa-bookmark mr-2"}),"Salva posizione"]}),s.jsxs(U,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>{const E=g+1;E<=chaptersData.length&&t(`/reading/${E}`)},children:[s.jsx("span",{className:"mr-2",children:""}),"Continua lettura"]})]})]})}),s.jsx(wv,{quizzes:p,chapterId:g})]}),s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(jv,{}),s.jsx(Nv,{context:v.historicalContext}),s.jsx(Cv,{})]})]})}),s.jsx(dv,{isOpen:a,onClose:()=>i(!1),term:n}),s.jsx(Sv,{progress:l,timeSpent:u+Math.floor((Date.now()-f.current)/1e3/60),isAutoSaving:j.isPending,chapterTitle:(v==null?void 0:v.title)||`Capitolo ${g}`}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden",children:s.jsxs("div",{className:"flex justify-around py-2",children:[s.jsxs("button",{className:"flex flex-col items-center py-2 px-4 text-literary-blue",children:[s.jsx("i",{className:"fas fa-book text-lg"}),s.jsx("span",{className:"text-xs mt-1",children:"Leggi"})]}),s.jsxs("button",{className:"flex flex-col items-center py-2 px-4 text-gray-500",onClick:()=>t("/dashboard"),children:[s.jsx("i",{className:"fas fa-chart-line text-lg"}),s.jsx("span",{className:"text-xs mt-1",children:"Progressi"})]}),s.jsxs("button",{className:"flex flex-col items-center py-2 px-4 text-gray-500",children:[s.jsx("i",{className:"fas fa-trophy text-lg"}),s.jsx("span",{className:"text-xs mt-1",children:"Traguardi"})]}),s.jsxs("button",{className:"flex flex-col items-center py-2 px-4 text-gray-500",children:[s.jsx("i",{className:"fas fa-user text-lg"}),s.jsx("span",{className:"text-xs mt-1",children:"Profilo"})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-warm-cream",children:[s.jsx(nr,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx(q,{children:s.jsxs(H,{className:"p-6 text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Capitolo non trovato."}),s.jsx(U,{onClick:()=>t("/reading/1"),className:"mt-4",children:"Vai al primo capitolo"})]})})})]}):s.jsx("div",{className:"min-h-screen bg-warm-cream flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-literary-blue"})}):null}function Ma(){const{user:e}=rt(),[,t]=It(),{data:r,isLoading:n}=fe({queryKey:[`/api/users/${e==null?void 0:e.id}/progress`],enabled:!!e}),{data:o,isLoading:a}=fe({queryKey:[`/api/users/${e==null?void 0:e.id}/achievements`],enabled:!!e}),{data:i,isLoading:l}=fe({queryKey:[`/api/users/${e==null?void 0:e.id}/stats`],enabled:!!e}),{data:d}=fe({queryKey:["/api/chapters"],enabled:!!e});if(!e)return t("/auth"),null;const u=i||{},h=d||[],f=u.completed_chapters||0,m=h.length||38,g=m>0?f/m*100:0,v=[{type:"chapter",title:"Capitolo 1 completato",date:"Oggi",icon:"fas fa-book",color:"green"},{type:"quiz",title:"Quiz Capitolo 1 - 100%",date:"Oggi",icon:"fas fa-star",color:"edo-gold"},{type:"achievement",title:"Primo Capitolo sbloccato",date:"Oggi",icon:"fas fa-trophy",color:"purple"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx(nr,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"modern-card p-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative",children:[s.jsxs("h1",{className:"text-4xl font-avenir font-bold mb-3",children:["Ciao, ",e.firstName,"! "]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Ecco un riepilogo dei tuoi progressi nello studio de I Promessi Sposi"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{className:"font-avenir text-2xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Progresso Generale"})}),s.jsxs(H,{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Capitoli completati"}),s.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[f,"/",m]})]}),s.jsx(ht,{value:g,className:"h-4 bg-gray-200"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-3 font-medium",children:["Hai completato il ",Math.round(g),"% del romanzo"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-2xl text-center text-white shadow-lg floating-card",children:[s.jsx("div",{className:"text-3xl font-bold",children:u.total_points||e.points||0}),s.jsx("div",{className:"text-sm text-blue-100 font-medium",children:"Punti Edo"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-2xl text-center text-white shadow-lg floating-card",children:[s.jsx("div",{className:"text-3xl font-bold",children:u.completed_quizzes||0}),s.jsx("div",{className:"text-sm text-green-100 font-medium",children:"Quiz completati"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-2xl text-center text-white shadow-lg floating-card",children:[s.jsx("div",{className:"text-3xl font-bold",children:Math.floor(u.days_since_joined||1)}),s.jsx("div",{className:"text-sm text-purple-100 font-medium",children:"Giorni di studio"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 p-6 rounded-2xl text-center text-white shadow-lg floating-card",children:[s.jsx("div",{className:"text-3xl font-bold",children:(o==null?void 0:o.length)||0}),s.jsx("div",{className:"text-sm text-yellow-100 font-medium",children:"Traguardi"})]})]})]})]}),s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{className:"font-avenir text-2xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Progressi per Capitolo"})}),s.jsx(H,{children:s.jsx("div",{className:"space-y-4",children:h.slice(0,5).map(x=>{const w=(r||[]).some(b=>b.chapterId===x.id&&b.isCompleted);return s.jsxs("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white text-sm font-bold shadow-lg ${w?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:w?s.jsx("i",{className:"fas fa-check"}):x.number}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-lg text-gray-800",children:["Capitolo ",x.number]}),s.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:x.title})]})]}),s.jsx(U,{size:"sm",variant:w?"outline":"default",className:w?"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white rounded-full px-6 font-semibold":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-full px-6 font-semibold shadow-lg",onClick:()=>t(`/reading/${x.id}`),children:w?"Rivedi":"Inizia"})]},x.id)})})})]}),s.jsxs(q,{children:[s.jsx(re,{children:s.jsx(ee,{className:"font-avenir text-literary-blue",children:"Attivit Recente"})}),s.jsx(H,{children:s.jsx("div",{className:"space-y-3",children:v.map((x,p)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white ${x.color==="green"?"bg-green-500":x.color==="edo-gold"?"bg-edo-gold":"bg-purple-500"}`,children:s.jsx("i",{className:`${x.icon} text-sm`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:x.title}),s.jsx("div",{className:"text-sm text-gray-600",children:x.date})]})]},p))})})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(q,{className:"modern-card overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 p-6 text-white",children:[s.jsx(ee,{className:"font-avenir text-xl text-white mb-4",children:" Livello Attuale"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold mb-2",children:u.level||e.level||"Novizio"}),s.jsxs("div",{className:"text-sm text-yellow-100",children:[u.total_points||e.points||0," / 500 punti per il prossimo livello"]})]})]}),s.jsxs(H,{className:"p-6",children:[s.jsx(ht,{value:(u.total_points||e.points||0)/500*100,className:"h-4 bg-gray-200"}),s.jsxs("p",{className:"text-xs text-gray-600 mt-3 text-center font-medium",children:[500-(u.total_points||e.points||0)," punti al prossimo livello"]})]})]}),s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{className:"font-playfair text-xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Azioni Rapide"})}),s.jsxs(H,{className:"space-y-4",children:[s.jsxs(U,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>t("/reading"),children:[s.jsx("i",{className:"fas fa-book mr-2"}),"Continua lettura"]}),s.jsxs(U,{variant:"outline",className:"w-full border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold py-3 rounded-full transition-all duration-200",children:[s.jsx("i",{className:"fas fa-question-circle mr-2"}),"Ripassa quiz"]}),s.jsxs(U,{variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white font-semibold py-3 rounded-full transition-all duration-200",children:[s.jsx("i",{className:"fas fa-search mr-2"}),"Esplora glossario"]})]})]}),s.jsxs(q,{children:[s.jsx(re,{children:s.jsx(ee,{className:"font-playfair text-literary-blue",children:"Prossimi Traguardi"})}),s.jsx(H,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg opacity-60",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx("i",{className:"fas fa-book-open text-gray-500 text-sm"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:"Secondo Capitolo"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Completa il capitolo 2"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg opacity-60",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx("i",{className:"fas fa-medal text-gray-500 text-sm"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm",children:"Studioso"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Guadagna 1000 punti"})]})]})]})})]})]})]})]})]})}const ze=c.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:V("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ze.displayName="Textarea";const Ev=Vs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ws({className:e,variant:t,...r}){return s.jsx("div",{className:V(Ev({variant:t}),e),...r})}function Tv(){const{user:e}=rt(),[t,r]=c.useState(null),[n,o]=c.useState(""),[a,i]=c.useState(""),[l,d]=c.useState(""),[u,h]=c.useState(""),[f,m]=c.useState([]),[g,v]=c.useState(""),x=Xt();if((e==null?void 0:e.role)!=="teacher")return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx(nr,{}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(q,{className:"modern-card text-center",children:s.jsxs(H,{className:"p-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accesso Limitato"}),s.jsx("p",{className:"text-gray-600",children:"Questa sezione  riservata agli insegnanti."})]})})})]});const{data:p=[],isLoading:w}=fe({queryKey:["/api/teacher/classes",e==null?void 0:e.id],queryFn:async()=>(await fetch("/api/teacher/classes")).json(),enabled:!!(e!=null&&e.id)}),{data:b=[],isLoading:j}=fe({queryKey:["/api/teacher/students",t],queryFn:async()=>(await fetch(`/api/teacher/classes/${t}/students`)).json(),enabled:!!t}),{data:R=[],isLoading:T}=fe({queryKey:["/api/teacher/assignments",e==null?void 0:e.id],queryFn:async()=>(await fetch("/api/teacher/assignments")).json(),enabled:!!(e!=null&&e.id)}),E=me({mutationFn:async N=>await xe("/api/teacher/classes",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/teacher/classes"]}),o(""),i("")}}),P=me({mutationFn:async N=>await xe("/api/teacher/assignments",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/teacher/assignments"]}),d(""),h(""),m([]),v("")}}),S=()=>{n.trim()&&E.mutate({name:n.trim(),description:a.trim()})},C=()=>{l.trim()&&t&&f.length>0&&P.mutate({classId:t,title:l.trim(),description:u.trim(),chapterIds:f,dueDate:g||null})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx(nr,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"modern-card p-8 bg-gradient-to-r from-purple-600 to-blue-600 text-white overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative",children:[s.jsx("h1",{className:"text-4xl font-playfair font-bold mb-3",children:"Dashboard Insegnante "}),s.jsx("p",{className:"text-purple-100 text-lg",children:"Monitora i progressi degli studenti e gestisci le tue classi"})]})]})}),s.jsxs(Ws,{defaultValue:"overview",className:"w-full",children:[s.jsxs(ns,{className:"grid w-full grid-cols-4 mb-8",children:[s.jsx(Oe,{value:"overview",children:"Panoramica"}),s.jsx(Oe,{value:"classes",children:"Classi"}),s.jsx(Oe,{value:"assignments",children:"Compiti"}),s.jsx(Oe,{value:"students",children:"Studenti"})]}),s.jsxs(_e,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(q,{className:"modern-card",children:s.jsxs(H,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Classi Attive"})]})}),s.jsx(q,{className:"modern-card",children:s.jsxs(H,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.reduce((N,_)=>N+_.studentCount,0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Studenti Totali"})]})}),s.jsx(q,{className:"modern-card",children:s.jsxs(H,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:R.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Compiti Assegnati"})]})})]}),s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{children:"Attivit Recente"})}),s.jsx(H,{children:s.jsx("div",{className:"space-y-4",children:R.slice(0,5).map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:N.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Scadenza: ",new Date(N.dueDate).toLocaleDateString("it-IT")]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-semibold",children:[N.completionRate,"%"]}),s.jsx(ht,{value:N.completionRate,className:"w-20 h-2"})]})]},N.id))})})]})]}),s.jsxs(_e,{value:"classes",className:"space-y-6",children:[s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{children:"Crea Nuova Classe"})}),s.jsxs(H,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ue,{placeholder:"Nome della classe",value:n,onChange:N=>o(N.target.value)}),s.jsx(ze,{placeholder:"Descrizione (opzionale)",value:a,onChange:N=>i(N.target.value),className:"resize-none"})]}),s.jsx(U,{onClick:S,disabled:!n.trim()||E.isPending,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:E.isPending?"Creazione...":"Crea Classe"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(N=>s.jsx(q,{className:"modern-card",children:s.jsxs(H,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"font-bold text-lg",children:N.name}),s.jsxs(ws,{variant:"secondary",children:[N.studentCount," studenti"]})]}),N.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:N.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold",children:"Codice:"})," ",N.classCode]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Creata: ",new Date(N.createdAt).toLocaleDateString("it-IT")]})]}),s.jsx(U,{variant:"outline",className:"w-full mt-4",onClick:()=>r(N.id),children:"Gestisci Classe"})]})},N.id))})]}),s.jsxs(_e,{value:"assignments",className:"space-y-6",children:[s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{children:"Crea Nuovo Compito"})}),s.jsxs(H,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(As,{onValueChange:N=>r(Number(N)),children:[s.jsx(Br,{children:s.jsx(Ms,{placeholder:"Seleziona classe"})}),s.jsx(Gr,{children:p.map(N=>s.jsx(Je,{value:N.id.toString(),children:N.name},N.id))})]}),s.jsx(ue,{type:"date",value:g,onChange:N=>v(N.target.value)})]}),s.jsx(ue,{placeholder:"Titolo del compito",value:l,onChange:N=>d(N.target.value)}),s.jsx(ze,{placeholder:"Descrizione del compito",value:u,onChange:N=>h(N.target.value),className:"resize-none"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Capitoli da assegnare:"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:10},(N,_)=>_+1).map(N=>s.jsxs(U,{variant:f.includes(N)?"default":"outline",size:"sm",onClick:()=>{m(_=>_.includes(N)?_.filter(A=>A!==N):[..._,N])},children:["Cap. ",N]},N))})]}),s.jsx(U,{onClick:C,disabled:!l.trim()||!t||f.length===0||P.isPending,className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:P.isPending?"Creazione...":"Crea Compito"})]})]}),s.jsx("div",{className:"space-y-4",children:R.map(N=>s.jsx(q,{className:"modern-card",children:s.jsx(H,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:N.title}),s.jsx("p",{className:"text-gray-600 mb-3",children:N.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Capitoli: ",N.chapterIds.join(", ")]}),s.jsxs("span",{children:["Scadenza: ",new Date(N.dueDate).toLocaleDateString("it-IT")]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[N.completionRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Completamento"}),s.jsx(ht,{value:N.completionRate,className:"w-24 h-2 mt-2"})]})]})})},N.id))})]}),s.jsx(_e,{value:"students",className:"space-y-6",children:t?s.jsxs(q,{className:"modern-card",children:[s.jsx(re,{children:s.jsx(ee,{children:"Studenti della Classe"})}),s.jsx(H,{children:s.jsx("div",{className:"space-y-4",children:b.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:[N.firstName[0],N.lastName[0]]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold",children:[N.firstName," ",N.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:N.email})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("span",{className:"font-semibold",children:[N.points," punti"]}),s.jsxs("span",{children:[N.chaptersCompleted," capitoli"]}),s.jsxs("span",{children:[N.quizzesCompleted," quiz"]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ultimo accesso: ",new Date(N.lastActive).toLocaleDateString("it-IT")]})]})]},N.id))})})]}):s.jsx(q,{className:"modern-card",children:s.jsxs(H,{className:"text-center p-12",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Seleziona una Classe"}),s.jsx("p",{className:"text-gray-600",children:"Scegli una classe per visualizzare gli studenti"})]})})})]})]})]})}function Av(){const{data:e,isLoading:t,error:r}=fe({queryKey:["/api/admin/me"],retry:!1,refetchOnWindowFocus:!1});return{adminUser:e,isLoading:t,isAuthenticated:!!e&&!r,error:r}}function Mv(){const[,e]=It(),{adminUser:t,isLoading:r,isAuthenticated:n}=Av();return c.useEffect(()=>{!r&&!n&&e("/admin/login")},[r,n,e]),r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg",children:"Caricamento..."})}):n?s.jsx(Iv,{adminUser:t}):null}function Iv({adminUser:e}){const{toast:t}=Jt(),r=Xt(),[n,o]=c.useState("chapters"),[,a]=It(),{data:i=[],isLoading:l}=fe({queryKey:["/api/chapters"]}),{data:d=[],isLoading:u}=fe({queryKey:["/api/admin/quizzes"]}),{data:h=[],isLoading:f}=fe({queryKey:["/api/glossary"]}),m=me({mutationFn:()=>xe("POST","/api/admin/logout"),onSuccess:()=>{t({title:"Logout effettuato",description:"Arrivederci!"}),r.invalidateQueries({queryKey:["/api/admin/me"]}),a("/admin/login")}}),g=()=>{var S;const[p,w]=c.useState(null),[b,j]=c.useState(!1),R=me({mutationFn:C=>xe("POST","/api/admin/chapters",C),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/chapters"]}),j(!1),t({title:"Capitolo creato con successo"})},onError:()=>{t({title:"Errore nella creazione del capitolo",variant:"destructive"})}}),T=me({mutationFn:({id:C,data:N})=>xe("PUT",`/api/admin/chapters/${C}`,N),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/chapters"]}),w(null),j(!1),t({title:"Capitolo aggiornato con successo"})},onError:()=>{t({title:"Errore nell'aggiornamento del capitolo",variant:"destructive"})}}),E=me({mutationFn:C=>xe("DELETE",`/api/admin/chapters/${C}`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/chapters"]}),t({title:"Capitolo eliminato con successo"})},onError:()=>{t({title:"Errore nell'eliminazione del capitolo",variant:"destructive"})}}),P=C=>{C.preventDefault();const N=new FormData(C.currentTarget),_={title:N.get("title"),author:N.get("author"),content:N.get("content"),description:N.get("description"),number:parseInt(N.get("number")),estimatedReadingTime:parseInt(N.get("estimatedReadingTime")),difficultyLevel:N.get("difficultyLevel"),themes:N.get("themes").split(",").map(A=>A.trim()),historicalContext:N.get("historicalContext")};p?T.mutate({id:p.id,data:_}):R.mutate(_)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gestione Capitoli"}),s.jsxs(bs,{open:b,onOpenChange:j,children:[s.jsx(vn,{asChild:!0,children:s.jsxs(U,{onClick:()=>w(null),children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Nuovo Capitolo"]})}),s.jsxs($r,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsx(qr,{children:p?"Modifica Capitolo":"Nuovo Capitolo"})}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"title",children:"Titolo"}),s.jsx(ue,{id:"title",name:"title",defaultValue:(p==null?void 0:p.title)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"author",children:"Autore"}),s.jsx(ue,{id:"author",name:"author",defaultValue:(p==null?void 0:p.author)||"",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"number",children:"Numero"}),s.jsx(ue,{id:"number",name:"number",type:"number",defaultValue:(p==null?void 0:p.number)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"estimatedReadingTime",children:"Tempo Lettura (min)"}),s.jsx(ue,{id:"estimatedReadingTime",name:"estimatedReadingTime",type:"number",defaultValue:(p==null?void 0:p.estimatedReadingTime)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"difficultyLevel",children:"Difficolt"}),s.jsxs(As,{name:"difficultyLevel",defaultValue:(p==null?void 0:p.difficultyLevel)||"",children:[s.jsx(Br,{children:s.jsx(Ms,{placeholder:"Seleziona difficolt"})}),s.jsxs(Gr,{children:[s.jsx(Je,{value:"beginner",children:"Principiante"}),s.jsx(Je,{value:"intermediate",children:"Intermedio"}),s.jsx(Je,{value:"advanced",children:"Avanzato"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"description",children:"Descrizione"}),s.jsx(ze,{id:"description",name:"description",defaultValue:(p==null?void 0:p.description)||"",rows:3})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"themes",children:"Temi (separati da virgola)"}),s.jsx(ue,{id:"themes",name:"themes",defaultValue:((S=p==null?void 0:p.themes)==null?void 0:S.join(", "))||""})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"historicalContext",children:"Contesto Storico"}),s.jsx(ze,{id:"historicalContext",name:"historicalContext",defaultValue:(p==null?void 0:p.historicalContext)||"",rows:3})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"content",children:"Contenuto"}),s.jsx(ze,{id:"content",name:"content",defaultValue:(p==null?void 0:p.content)||"",rows:10,required:!0})]}),s.jsx(ys,{children:s.jsx(U,{type:"submit",disabled:R.isPending||T.isPending,children:p?"Aggiorna":"Crea"})})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:l?s.jsx("div",{children:"Caricamento..."}):i.map(C=>s.jsxs(q,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ee,{children:C.title}),s.jsxs(Bt,{children:["di ",C.author,"  Capitolo ",C.number]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>{w(C),j(!0)},children:s.jsx(fn,{className:"w-4 h-4"})}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>E.mutate(C.id),children:s.jsx(hn,{className:"w-4 h-4"})})]})]})}),s.jsxs(H,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Difficolt: ",C.difficultyLevel,"  ",C.estimatedReadingTime," min"]})]})]},C.id))})]})},v=()=>{var S;const[p,w]=c.useState(null),[b,j]=c.useState(!1),R=me({mutationFn:C=>xe("POST","/api/admin/quizzes",C),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/quizzes"]}),j(!1),t({title:"Quiz creato con successo"})},onError:()=>{t({title:"Errore nella creazione del quiz",variant:"destructive"})}}),T=me({mutationFn:({id:C,data:N})=>xe("PUT",`/api/admin/quizzes/${C}`,N),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/quizzes"]}),w(null),j(!1),t({title:"Quiz aggiornato con successo"})},onError:()=>{t({title:"Errore nell'aggiornamento del quiz",variant:"destructive"})}}),E=me({mutationFn:C=>xe("DELETE",`/api/admin/quizzes/${C}`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/quizzes"]}),t({title:"Quiz eliminato con successo"})},onError:()=>{t({title:"Errore nell'eliminazione del quiz",variant:"destructive"})}}),P=C=>{C.preventDefault();const N=new FormData(C.currentTarget),_={chapterId:parseInt(N.get("chapterId")),question:N.get("question"),options:[N.get("option1"),N.get("option2"),N.get("option3"),N.get("option4")].filter(Boolean),correctAnswer:parseInt(N.get("correctAnswer")),explanation:N.get("explanation"),points:parseInt(N.get("points"))||10};p?T.mutate({id:p.id,data:_}):R.mutate(_)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gestione Quiz"}),s.jsxs(bs,{open:b,onOpenChange:j,children:[s.jsx(vn,{asChild:!0,children:s.jsxs(U,{onClick:()=>w(null),children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Nuovo Quiz"]})}),s.jsxs($r,{className:"max-w-2xl",children:[s.jsx(Vr,{children:s.jsx(qr,{children:p?"Modifica Quiz":"Nuovo Quiz"})}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"chapterId",children:"Capitolo"}),s.jsxs(As,{name:"chapterId",defaultValue:((S=p==null?void 0:p.chapterId)==null?void 0:S.toString())||"",children:[s.jsx(Br,{children:s.jsx(Ms,{placeholder:"Seleziona capitolo"})}),s.jsx(Gr,{children:i.map(C=>s.jsx(Je,{value:C.id.toString(),children:C.title},C.id))})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"points",children:"Punti"}),s.jsx(ue,{id:"points",name:"points",type:"number",defaultValue:(p==null?void 0:p.points)||10})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"question",children:"Domanda"}),s.jsx(ze,{id:"question",name:"question",defaultValue:(p==null?void 0:p.question)||"",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Opzioni di Risposta"}),[1,2,3,4].map(C=>{var N;return s.jsx(ue,{name:`option${C}`,placeholder:`Opzione ${C}`,defaultValue:((N=p==null?void 0:p.options)==null?void 0:N[C-1])||""},C)})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"correctAnswer",children:"Risposta Corretta (numero 1-4)"}),s.jsx(ue,{id:"correctAnswer",name:"correctAnswer",type:"number",min:"1",max:"4",defaultValue:(p==null?void 0:p.correctAnswer)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"explanation",children:"Spiegazione"}),s.jsx(ze,{id:"explanation",name:"explanation",defaultValue:(p==null?void 0:p.explanation)||"",rows:3})]}),s.jsx(ys,{children:s.jsx(U,{type:"submit",disabled:R.isPending||T.isPending,children:p?"Aggiorna":"Crea"})})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:u?s.jsx("div",{children:"Caricamento..."}):d.map(C=>{var N;return s.jsxs(q,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ee,{className:"text-base",children:C.question}),s.jsxs(Bt,{children:["Capitolo ",C.chapterId,"  ",C.points," punti"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>{w(C),j(!0)},children:s.jsx(fn,{className:"w-4 h-4"})}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>E.mutate(C.id),children:s.jsx(hn,{className:"w-4 h-4"})})]})]})}),s.jsx(H,{children:s.jsx("div",{className:"space-y-1",children:(N=C.options)==null?void 0:N.map((_,A)=>s.jsxs("div",{className:`text-sm ${A===C.correctAnswer-1?"font-bold text-green-600":""}`,children:[A+1,". ",_]},A))})})]},C.id)})})]})},x=()=>{const[p,w]=c.useState(null),[b,j]=c.useState(!1),R=me({mutationFn:S=>xe("POST","/api/admin/glossary",S),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/glossary"]}),j(!1),t({title:"Termine creato con successo"})},onError:()=>{t({title:"Errore nella creazione del termine",variant:"destructive"})}}),T=me({mutationFn:({term:S,data:C})=>xe("PUT",`/api/admin/glossary/${S}`,C),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/glossary"]}),w(null),j(!1),t({title:"Termine aggiornato con successo"})},onError:()=>{t({title:"Errore nell'aggiornamento del termine",variant:"destructive"})}}),E=me({mutationFn:S=>xe("DELETE",`/api/admin/glossary/${S}`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/glossary"]}),t({title:"Termine eliminato con successo"})},onError:()=>{t({title:"Errore nell'eliminazione del termine",variant:"destructive"})}}),P=S=>{S.preventDefault();const C=new FormData(S.currentTarget),N={term:C.get("term"),definition:C.get("definition"),context:C.get("context"),category:C.get("category")};p?T.mutate({term:p.term,data:N}):R.mutate(N)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gestione Glossario"}),s.jsxs(bs,{open:b,onOpenChange:j,children:[s.jsx(vn,{asChild:!0,children:s.jsxs(U,{onClick:()=>w(null),children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Nuovo Termine"]})}),s.jsxs($r,{children:[s.jsx(Vr,{children:s.jsx(qr,{children:p?"Modifica Termine":"Nuovo Termine"})}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"term",children:"Termine"}),s.jsx(ue,{id:"term",name:"term",defaultValue:(p==null?void 0:p.term)||"",required:!0,disabled:!!p})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"category",children:"Categoria"}),s.jsx(ue,{id:"category",name:"category",defaultValue:(p==null?void 0:p.category)||""})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"definition",children:"Definizione"}),s.jsx(ze,{id:"definition",name:"definition",defaultValue:(p==null?void 0:p.definition)||"",required:!0,rows:3})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"context",children:"Contesto"}),s.jsx(ze,{id:"context",name:"context",defaultValue:(p==null?void 0:p.context)||"",rows:2})]}),s.jsx(ys,{children:s.jsx(U,{type:"submit",disabled:R.isPending||T.isPending,children:p?"Aggiorna":"Crea"})})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:f?s.jsx("div",{children:"Caricamento..."}):h.map(S=>s.jsxs(q,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ee,{className:"text-base",children:S.term}),s.jsx(Bt,{children:S.category})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:()=>{w(S),j(!0)},children:s.jsx(fn,{className:"w-4 h-4"})}),s.jsx(U,{variant:"destructive",size:"sm",onClick:()=>E.mutate(S.term),children:s.jsx(hn,{className:"w-4 h-4"})})]})]})}),s.jsxs(H,{children:[s.jsx("p",{className:"text-sm mb-2",children:S.definition}),S.context&&s.jsx("p",{className:"text-xs text-gray-500",children:S.context})]})]},S.id))})]})};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Pannello Amministratore"}),s.jsx("p",{className:"text-gray-600",children:"Gestisci i contenuti della piattaforma educativa"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Th,{className:"w-4 h-4"}),s.jsxs("span",{children:["Benvenuto, ",e==null?void 0:e.username]})]}),s.jsxs(U,{variant:"outline",onClick:()=>m.mutate(),disabled:m.isPending,children:[s.jsx(Eh,{className:"w-4 h-4 mr-2"}),m.isPending?"Disconnessione...":"Logout"]})]})]}),s.jsxs(Ws,{value:n,onValueChange:o,children:[s.jsxs(ns,{className:"grid w-full grid-cols-3",children:[s.jsx(Oe,{value:"chapters",children:"Capitoli"}),s.jsx(Oe,{value:"quizzes",children:"Quiz"}),s.jsx(Oe,{value:"glossary",children:"Glossario"})]}),s.jsx(_e,{value:"chapters",children:s.jsx(g,{})}),s.jsx(_e,{value:"quizzes",children:s.jsx(v,{})}),s.jsx(_e,{value:"glossary",children:s.jsx(x,{})})]})]})}function Ov(){const[e,t]=c.useState(""),[r,n]=c.useState(""),[,o]=It(),{toast:a}=Jt(),i=me({mutationFn:d=>xe("POST","/api/admin/login",d),onSuccess:()=>{a({title:"Login effettuato con successo",description:"Benvenuto nel pannello amministratore"}),o("/admin")},onError:d=>{a({title:"Errore di login",description:d.message||"Credenziali non valide",variant:"destructive"})}}),l=d=>{if(d.preventDefault(),!e||!r){a({title:"Campi richiesti",description:"Inserisci username e password",variant:"destructive"});return}i.mutate({username:e,password:r})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:s.jsxs(q,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"space-y-1",children:[s.jsx(ee,{className:"text-2xl font-bold text-center",children:"Accesso Amministratore"}),s.jsx(Bt,{className:"text-center",children:"Inserisci le tue credenziali per accedere al pannello admin"})]}),s.jsx(H,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"username",children:"Username"}),s.jsx(ue,{id:"username",type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Inserisci il tuo username",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",children:"Password"}),s.jsx(ue,{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),placeholder:"Inserisci la tua password",required:!0})]}),s.jsx(U,{type:"submit",className:"w-full",disabled:i.isPending,children:i.isPending?"Accesso in corso...":"Accedi"})]})})]})})}function _v(e,t){return c.useReducer((r,n)=>t[r][n]??r,e)}var zo="ScrollArea",[pu,gb]=Ce(zo),[Dv,Ve]=pu(zo),mu=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...i}=e,[l,d]=c.useState(null),[u,h]=c.useState(null),[f,m]=c.useState(null),[g,v]=c.useState(null),[x,p]=c.useState(null),[w,b]=c.useState(0),[j,R]=c.useState(0),[T,E]=c.useState(!1),[P,S]=c.useState(!1),C=X(t,_=>d(_)),N=Pr(o);return s.jsx(Dv,{scope:r,type:n,dir:N,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:p,scrollbarYEnabled:P,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:R,children:s.jsx(F.div,{dir:N,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});mu.displayName=zo;var xu="ScrollAreaViewport",gu=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,i=Ve(xu,r),l=c.useRef(null),d=X(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(F.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});gu.displayName=xu;var st="ScrollAreaScrollbar",$o=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ve(st,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return c.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),o.type==="hover"?s.jsx(kv,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(Lv,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(vu,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(Vo,{...n,ref:t}):null});$o.displayName=st;var kv=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ve(st,e.__scopeScrollArea),[a,i]=c.useState(!1);return c.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),i(!0)},h=()=>{d=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(ke,{present:r||a,children:s.jsx(vu,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Lv=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ve(st,e.__scopeScrollArea),a=e.orientation==="horizontal",i=tn(()=>d("SCROLL_END"),100),[l,d]=_v("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,o.scrollHideDelay,d]),c.useEffect(()=>{const u=o.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const g=u[h];f!==g&&(d("SCROLL"),i()),f=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,a,d,i]),s.jsx(ke,{present:r||l!=="hidden",children:s.jsx(Vo,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:M(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:M(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),vu=c.forwardRef((e,t)=>{const r=Ve(st,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,i]=c.useState(!1),l=e.orientation==="horizontal",d=tn(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:h)}},10);return wr(r.viewport,d),wr(r.content,d),s.jsx(ke,{present:n||a,children:s.jsx(Vo,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Vo=c.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=Ve(st,e.__scopeScrollArea),a=c.useRef(null),i=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Nu(l.viewport,l.content),h={...n,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,g){return Hv(m,i.current,l,g)}return r==="horizontal"?s.jsx(Fv,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,g=Ia(m,l,o.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=f(m,o.dir))}}):r==="vertical"?s.jsx(zv,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,g=Ia(m,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=f(m))}}):null}),Fv=c.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=Ve(st,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),u=X(t,d,a.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(yu,{"data-orientation":"horizontal",...o,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":en(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),Su(m,f)&&h.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ks(i.paddingLeft),paddingEnd:ks(i.paddingRight)}})}})}),zv=c.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=Ve(st,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),u=X(t,d,a.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(yu,{"data-orientation":"vertical",...o,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":en(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),Su(m,f)&&h.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ks(i.paddingTop),paddingEnd:ks(i.paddingBottom)}})}})}),[$v,bu]=pu(st),yu=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,g=Ve(st,r),[v,x]=c.useState(null),p=X(t,C=>x(C)),w=c.useRef(null),b=c.useRef(""),j=g.viewport,R=n.content-n.viewport,T=ve(h),E=ve(d),P=tn(f,10);function S(C){if(w.current){const N=C.clientX-w.current.left,_=C.clientY-w.current.top;u({x:N,y:_})}}return c.useEffect(()=>{const C=N=>{const _=N.target;(v==null?void 0:v.contains(_))&&T(N,R)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[j,v,R,T]),c.useEffect(E,[n,E]),wr(v,P),wr(g.content,P),s.jsx($v,{scope:r,scrollbar:v,hasThumb:o,onThumbChange:ve(a),onThumbPointerUp:ve(i),onThumbPositionChange:E,onThumbPointerDown:ve(l),children:s.jsx(F.div,{...m,ref:p,style:{position:"absolute",...m.style},onPointerDown:M(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),w.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(C))}),onPointerMove:M(e.onPointerMove,S),onPointerUp:M(e.onPointerUp,C=>{const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),Ds="ScrollAreaThumb",wu=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=bu(Ds,e.__scopeScrollArea);return s.jsx(ke,{present:r||o.hasThumb,children:s.jsx(Vv,{ref:t,...n})})}),Vv=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=Ve(Ds,r),i=bu(Ds,r),{onThumbPositionChange:l}=i,d=X(t,f=>i.onThumbChange(f)),u=c.useRef(void 0),h=tn(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(h(),!u.current){const g=Kv(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx(F.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:M(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,x=f.clientY-g.top;i.onThumbPointerDown({x:v,y:x})}),onPointerUp:M(e.onPointerUp,i.onThumbPointerUp)})});wu.displayName=Ds;var qo="ScrollAreaCorner",ju=c.forwardRef((e,t)=>{const r=Ve(qo,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(qv,{...e,ref:t}):null});ju.displayName=qo;var qv=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=Ve(qo,r),[a,i]=c.useState(0),[l,d]=c.useState(0),u=!!(a&&l);return wr(o.scrollbarX,()=>{var f;const h=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(h),d(h)}),wr(o.scrollbarY,()=>{var f;const h=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(h),i(h)}),u?s.jsx(F.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ks(e){return e?parseInt(e,10):0}function Nu(e,t){const r=e/t;return isNaN(r)?0:r}function en(e){const t=Nu(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Hv(e,t,r,n="ltr"){const o=en(r),a=o/2,i=t||a,l=o-i,d=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return Cu([d,u],f)(e)}function Ia(e,t,r="ltr"){const n=en(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,i]:[i*-1,0],u=qn(e,d);return Cu([0,i],[0,l])(u)}function Cu(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Su(e,t){return e>0&&e<t}var Kv=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function tn(e,t){const r=ve(e),n=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),c.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function wr(e,t){const r=ve(t);be(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var Ru=mu,Uv=gu,Bv=ju;const Pu=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ru,{ref:n,className:V("relative overflow-hidden",e),...r,children:[s.jsx(Uv,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Eu,{}),s.jsx(Bv,{})]}));Pu.displayName=Ru.displayName;const Eu=c.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx($o,{ref:n,orientation:t,className:V("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(wu,{className:"relative flex-1 rounded-full bg-border"})}));Eu.displayName=$o.displayName;var Ho="Collapsible",[Gv,vb]=Ce(Ho),[Wv,Ko]=Gv(Ho),Tu=c.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:a,onOpenChange:i,...l}=e,[d=!1,u]=Pt({prop:n,defaultProp:o,onChange:i});return s.jsx(Wv,{scope:r,disabled:a,contentId:Et(),open:d,onOpenToggle:c.useCallback(()=>u(h=>!h),[u]),children:s.jsx(F.div,{"data-state":Bo(d),"data-disabled":a?"":void 0,...l,ref:t})})});Tu.displayName=Ho;var Au="CollapsibleTrigger",Mu=c.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,o=Ko(Au,r);return s.jsx(F.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Bo(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:M(e.onClick,o.onOpenToggle)})});Mu.displayName=Au;var Uo="CollapsibleContent",Iu=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ko(Uo,e.__scopeCollapsible);return s.jsx(ke,{present:r||o.open,children:({present:a})=>s.jsx(Qv,{...n,ref:t,present:a})})});Iu.displayName=Uo;var Qv=c.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:o,...a}=e,i=Ko(Uo,r),[l,d]=c.useState(n),u=c.useRef(null),h=X(t,u),f=c.useRef(0),m=f.current,g=c.useRef(0),v=g.current,x=i.open||l,p=c.useRef(x),w=c.useRef(void 0);return c.useEffect(()=>{const b=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(b)},[]),be(()=>{const b=u.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();f.current=j.height,g.current=j.width,p.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),d(n)}},[i.open,n]),s.jsx(F.div,{"data-state":Bo(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...a,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&o})});function Bo(e){return e?"open":"closed"}var Yv=Tu;const kt=Yv,Lt=Mu,Ft=Iu;function Xv({chapterId:e,selectedText:t,onClose:r}){const[n,o]=c.useState(t||""),[a,i]=c.useState("analysis"),[l,d]=c.useState(new Set(["themes","historical"])),[u,h]=c.useState(""),{toast:f}=Jt(),m=Xt(),{data:g=[]}=fe({queryKey:["/api/insights/chapter",e],enabled:!!e}),v=me({mutationFn:S=>xe("POST","/api/insights/analyze",{passage:S,chapterId:e}),onSuccess:S=>{m.invalidateQueries({queryKey:["/api/insights/chapter",e]}),f({title:"Analisi completata",description:"Il brano  stato analizzato con successo dall'AI"})},onError:()=>{f({title:"Errore nell'analisi",description:"Non  stato possibile analizzare il brano. Riprova pi tardi.",variant:"destructive"})}}),x=me({mutationFn:({passage:S,difficulty:C})=>xe("POST","/api/insights/questions",{passage:S,difficulty:C}),onSuccess:()=>{f({title:"Domande generate",description:"Le domande di comprensione sono state create"})}}),p=me({mutationFn:S=>xe("POST","/api/insights/ask",{concept:S,context:n}),onSuccess:()=>{h(""),f({title:"Risposta ricevuta",description:"L'AI ha risposto alla tua domanda"})}}),{data:w}=fe({queryKey:["/api/insights/current"],enabled:v.isSuccess}),{data:b=[]}=fe({queryKey:["/api/insights/questions/current"],enabled:x.isSuccess}),{data:j}=fe({queryKey:["/api/insights/answer/current"],enabled:p.isSuccess}),R=S=>{const C=new Set(l);C.has(S)?C.delete(S):C.add(S),d(C)},T=S=>{switch(S){case"basic":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=S=>{switch(S){case"historical":return s.jsx(ha,{className:"w-4 h-4"});case"literary":return s.jsx(hs,{className:"w-4 h-4"});case"thematic":return s.jsx(cn,{className:"w-4 h-4"});case"linguistic":return s.jsx(dn,{className:"w-4 h-4"});default:return s.jsx(hs,{className:"w-4 h-4"})}},P=w||g[0];return s.jsxs("div",{className:"w-full max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Analisi Letteraria AI"})]}),r&&s.jsx(U,{variant:"outline",onClick:r,children:"Chiudi"})]}),s.jsxs(q,{children:[s.jsxs(re,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5"}),"Seleziona Brano da Analizzare"]}),s.jsx(Bt,{children:`Incolla o seleziona un brano de "I Promessi Sposi" per ricevere un'analisi letteraria approfondita`})]}),s.jsxs(H,{className:"space-y-4",children:[s.jsx(ze,{placeholder:"Incolla qui il brano che vuoi analizzare...",value:n,onChange:S=>o(S.target.value),className:"min-h-[120px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{onClick:()=>v.mutate(n),disabled:!n.trim()||v.isPending,className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4"}),v.isPending?"Analizzando...":"Analizza Brano"]}),s.jsx(U,{variant:"outline",onClick:()=>x.mutate({passage:n,difficulty:"intermediate"}),disabled:!n.trim()||x.isPending,children:"Genera Domande"})]})]})]}),P&&s.jsxs(Ws,{value:a,onValueChange:i,children:[s.jsxs(ns,{className:"grid w-full grid-cols-3",children:[s.jsx(Oe,{value:"analysis",children:"Analisi Letteraria"}),s.jsx(Oe,{value:"questions",children:"Domande di Comprensione"}),s.jsx(Oe,{value:"discussion",children:"Discussione AI"})]}),s.jsxs(_e,{value:"analysis",className:"space-y-4",children:[s.jsx(q,{children:s.jsxs(kt,{open:l.has("themes"),onOpenChange:()=>R("themes"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"w-5 h-5 text-purple-600"}),"Temi Principali"]}),l.has("themes")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:P.themes.map((S,C)=>s.jsx(ws,{variant:"secondary",className:"text-sm",children:S},C))})})})]})}),s.jsx(q,{children:s.jsxs(kt,{open:l.has("historical"),onOpenChange:()=>R("historical"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"w-5 h-5 text-amber-600"}),"Contesto Storico"]}),l.has("historical")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:P.historicalContext})})})]})}),s.jsx(q,{children:s.jsxs(kt,{open:l.has("literary"),onOpenChange:()=>R("literary"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5 text-blue-600"}),"Analisi Letteraria"]}),l.has("literary")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:P.literaryAnalysis})})})]})}),P.characterAnalysis&&s.jsx(q,{children:s.jsxs(kt,{open:l.has("characters"),onOpenChange:()=>R("characters"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"w-5 h-5 text-green-600"}),"Analisi dei Personaggi"]}),l.has("characters")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:P.characterAnalysis})})})]})}),s.jsx(q,{children:s.jsxs(kt,{open:l.has("language"),onOpenChange:()=>R("language"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"w-5 h-5 text-indigo-600"}),"Stile Linguistico"]}),l.has("language")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:P.languageStyle})})})]})}),s.jsx(q,{children:s.jsxs(kt,{open:l.has("cultural"),onOpenChange:()=>R("cultural"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-5 h-5 text-rose-600"}),"Significato Culturale"]}),l.has("cultural")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:P.culturalSignificance})})})]})}),s.jsx(q,{children:s.jsxs(kt,{open:l.has("modern"),onOpenChange:()=>R("modern"),children:[s.jsx(Lt,{asChild:!0,children:s.jsx(re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"w-5 h-5 text-cyan-600"}),"Rilevanza Moderna"]}),l.has("modern")?s.jsx(gt,{className:"w-4 h-4"}):s.jsx(lt,{className:"w-4 h-4"})]})})}),s.jsx(Ft,{children:s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:P.modernRelevance})})})]})})]}),s.jsxs(_e,{value:"questions",className:"space-y-4",children:[s.jsx("div",{className:"grid gap-4",children:b.map((S,C)=>s.jsxs(q,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs(ee,{className:"flex items-center gap-2 text-base",children:[E(S.category),S.question]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ws,{className:T(S.difficulty),children:S.difficulty}),s.jsx(ws,{variant:"outline",children:S.category})]})]})}),s.jsx(H,{children:s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:S.answer})})]},C))}),b.length===0&&s.jsx(q,{children:s.jsx(H,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Genera domande di comprensione per iniziare l'analisi"})})})]}),s.jsxs(_e,{value:"discussion",className:"space-y-4",children:[s.jsxs(q,{children:[s.jsxs(re,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"w-5 h-5"}),"Fai una Domanda all'AI"]}),s.jsx(Bt,{children:"Chiedi all'AI di spiegare concetti specifici o approfondire aspetti del brano"})]}),s.jsxs(H,{className:"space-y-4",children:[s.jsx(ze,{placeholder:"Esempio: Cosa significa la metafora del 'ramo del lago di Como'?",value:u,onChange:S=>h(S.target.value),className:"min-h-[80px]"}),s.jsx(U,{onClick:()=>p.mutate(u),disabled:!u.trim()||p.isPending,className:"w-full",children:p.isPending?"Elaborando risposta...":"Chiedi all'AI"})]})]}),j&&s.jsxs(q,{children:[s.jsx(re,{children:s.jsx(ee,{className:"text-base",children:"Risposta AI"})}),s.jsx(H,{children:s.jsx(Pu,{className:"h-[200px]",children:s.jsx("p",{className:"text-sm leading-relaxed",children:j})})})]})]})]})]})}function Jv(){return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Analisi Letteraria AI"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:`Scopri il potere dell'intelligenza artificiale per comprendere "I Promessi Sposi" di Alessandro Manzoni. Ottieni analisi approfondite, contesto storico e interpretazioni letterarie in tempo reale.`})]}),s.jsx(Xv,{selectedText:"Quel ramo del lago di Como, che volge a mezzogiorno, tra due catene non interrotte di monti, tutto a seni e a golfi, a seconda dello sporgere e del rientrare de' promontori, vien, quasi a un tratto, a ristringersi, e a prender la forma e l'andamento d'un fiume, tra un promontorio a destra, e un'ampia costiera a sinistra, che si va poco a poco sollevando, e divergendo in pi poggi, e in pi vallate, segnate da terre, e da ville, delle quali alcune spiccano biancheggianti tra il verde de' boschi."})]})})}function Zv(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(q,{className:"w-full max-w-md mx-4",children:s.jsxs(H,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Ph,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function eb(){const{user:e,isLoading:t}=rt();return t?s.jsx("div",{className:"min-h-screen bg-warm-cream flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-literary-blue"})}):s.jsxs(vf,{children:[s.jsx(ot,{path:"/",component:e?Ma:zm}),s.jsx(ot,{path:"/auth",component:e?()=>(window.location.href="/dashboard",null):Mx}),s.jsx(ot,{path:"/reading/:chapterId?",component:e?Pv:()=>(window.location.href="/auth",null)}),s.jsx(ot,{path:"/dashboard",component:e?Ma:()=>(window.location.href="/auth",null)}),s.jsx(ot,{path:"/teacher",component:e&&e.role==="teacher"?Tv:()=>(window.location.href="/dashboard",null)}),s.jsx(ot,{path:"/admin",component:Mv}),s.jsx(ot,{path:"/admin/login",component:Ov}),s.jsx(ot,{path:"/ai-insights",component:e?Jv:()=>(window.location.href="/auth",null)}),s.jsx(ot,{component:Zv})]})}function tb(){return s.jsx(Ff,{client:Xf,children:s.jsx(km,{children:s.jsxs(_m,{children:[s.jsx(up,{}),s.jsx(eb,{})]})})})}Za(document.getElementById("root")).render(s.jsx(tb,{}));
